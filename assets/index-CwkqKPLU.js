import{r as Vr,a as Kr,b as d,L as ot,u as de,R as H,c as _e,d as Qr,N as Zr,B as en,e as tn,f as at}from"./react-vendor-BAPy6R7L.js";import{P as Ve,d as rn,_ as nn,a as on}from"./pdf-vendor-CUJ3pHH-.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var St={exports:{}},$e={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qt;function an(){if(Qt)return $e;Qt=1;var e=Vr(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(i,l,f){var u,g={},p=null,h=null;f!==void 0&&(p=""+f),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(h=l.ref);for(u in l)n.call(l,u)&&!o.hasOwnProperty(u)&&(g[u]=l[u]);if(i&&i.defaultProps)for(u in l=i.defaultProps,l)g[u]===void 0&&(g[u]=l[u]);return{$$typeof:t,type:i,key:p,ref:h,props:g,_owner:s.current}}return $e.Fragment=r,$e.jsx=c,$e.jsxs=c,$e}var Zt;function sn(){return Zt||(Zt=1,St.exports=an()),St.exports}var a=sn(),st={},er;function ln(){if(er)return st;er=1;var e=Kr();return st.createRoot=e.createRoot,st.hydrateRoot=e.hydrateRoot,st}var cn=ln();const pr=d.createContext(),hr=()=>{const e=d.useContext(pr);if(!e)throw new Error("useTheme must be used within ThemeProvider");return e},dn=({children:e})=>{const[t,r]=d.useState(()=>localStorage.getItem("theme")||"light");d.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t)},[t]);const n=()=>{r(s=>s==="light"?"dark":"light")};return a.jsx(pr.Provider,{value:{theme:t,toggleTheme:n},children:e})},un=()=>{const{theme:e,toggleTheme:t}=hr();return a.jsx("header",{style:{background:"var(--surface)",borderBottom:"1px solid var(--border-color)",position:"sticky",top:0,zIndex:"var(--z-sticky)",backdropFilter:"blur(10px)",backgroundColor:"rgba(255, 255, 255, 0.8)"},children:a.jsxs("div",{className:"container",style:{padding:"var(--space-4) var(--space-6)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsx(ot,{to:"/",style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-bold)",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",textDecoration:"none"},children:"ePDF"}),a.jsxs("nav",{style:{display:"flex",gap:"var(--space-6)",alignItems:"center"},children:[a.jsx(ot,{to:"/",style:{color:"var(--text-secondary)",fontWeight:"var(--font-medium)",transition:"color var(--transition-fast)"},children:"Home"}),a.jsx(ot,{to:"/history",style:{color:"var(--text-secondary)",fontWeight:"var(--font-medium)",transition:"color var(--transition-fast)"},children:"History"}),a.jsx(ot,{to:"/settings",style:{color:"var(--text-secondary)",fontWeight:"var(--font-medium)",transition:"color var(--transition-fast)"},children:"Settings"}),a.jsx("button",{onClick:t,style:{padding:"var(--space-2) var(--space-3)",borderRadius:"var(--radius-full)",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",cursor:"pointer",transition:"all var(--transition-fast)",fontSize:"var(--text-lg)"},title:`Switch to ${e==="light"?"dark":"light"} mode`,children:e==="light"?"ðŸŒ™":"â˜€ï¸"})]})]})})},gn=()=>{const e=new Date().getFullYear();return a.jsx("footer",{style:{background:"var(--bg-secondary)",borderTop:"1px solid var(--border-color)",marginTop:"auto"},children:a.jsxs("div",{className:"container",style:{padding:"var(--space-8) var(--space-6)"},children:[a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"var(--space-8)",marginBottom:"var(--space-8)"},children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-bold)",marginBottom:"var(--space-4)",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"ePDF"}),a.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"var(--text-sm)"},children:"Professional PDF tools that work entirely in your browser. Fast, secure, and completely private."})]}),a.jsxs("div",{children:[a.jsx("h4",{style:{fontSize:"var(--text-base)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-3)",color:"var(--text-primary)"},children:"Popular Tools"}),a.jsxs("ul",{style:{display:"flex",flexDirection:"column",gap:"var(--space-2)"},children:[a.jsx("li",{children:a.jsx("a",{href:"#",style:{color:"var(--text-secondary)",fontSize:"var(--text-sm)"},children:"Merge PDF"})}),a.jsx("li",{children:a.jsx("a",{href:"#",style:{color:"var(--text-secondary)",fontSize:"var(--text-sm)"},children:"Split PDF"})}),a.jsx("li",{children:a.jsx("a",{href:"#",style:{color:"var(--text-secondary)",fontSize:"var(--text-sm)"},children:"Compress PDF"})}),a.jsx("li",{children:a.jsx("a",{href:"#",style:{color:"var(--text-secondary)",fontSize:"var(--text-sm)"},children:"JPG to PDF"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{style:{fontSize:"var(--text-base)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-3)",color:"var(--text-primary)"},children:"About"}),a.jsxs("ul",{style:{display:"flex",flexDirection:"column",gap:"var(--space-2)"},children:[a.jsx("li",{children:a.jsx("a",{href:"#",style:{color:"var(--text-secondary)",fontSize:"var(--text-sm)"},children:"Privacy Policy"})}),a.jsx("li",{children:a.jsx("a",{href:"#",style:{color:"var(--text-secondary)",fontSize:"var(--text-sm)"},children:"Terms of Service"})}),a.jsx("li",{children:a.jsx("a",{href:"#",style:{color:"var(--text-secondary)",fontSize:"var(--text-sm)"},children:"Contact"})})]})]})]}),a.jsx("div",{style:{paddingTop:"var(--space-6)",borderTop:"1px solid var(--border-color)",textAlign:"center",color:"var(--text-tertiary)",fontSize:"var(--text-sm)"},children:a.jsxs("p",{children:["Â© ",e," ePDF. All rights reserved. Made with â¤ï¸ for PDF lovers."]})})]})})},fn={"PDF Tools":["Merge PDF","Split PDF","Rotate PDF","Compress PDF","JPG to PDF","Remove Pages","Extract Pages","Reorder Pages"]},vn=()=>{const e=de(),[t,r]=d.useState(""),n=o=>{e(`/tool/${o.toLowerCase().replace(/\s+/g,"-")}`)},s=Object.values(fn).flat().filter(o=>o.toLowerCase().includes(t.toLowerCase()));return a.jsxs("div",{style:{minHeight:"calc(100vh - 200px)"},children:[a.jsx("section",{style:{background:"var(--gradient-mesh)",padding:"var(--space-20) var(--space-6)",textAlign:"center",position:"relative",overflow:"hidden"},children:a.jsxs("div",{className:"container",style:{maxWidth:"800px",position:"relative",zIndex:1},children:[a.jsx("h1",{style:{fontSize:"clamp(2.5rem, 5vw, 4rem)",fontWeight:"var(--font-bold)",marginBottom:"var(--space-6)",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Professional PDF Tools"}),a.jsxs("p",{style:{fontSize:"var(--text-xl)",color:"var(--text-secondary)",marginBottom:"var(--space-8)",lineHeight:"var(--leading-relaxed)"},children:["Transform, edit, and manage your PDFs with ease. ",a.jsx("br",{}),"100% browser-based. Lightning fast. Completely private."]}),a.jsx("div",{style:{maxWidth:"600px",margin:"0 auto"},children:a.jsx("input",{type:"text",placeholder:"Search for a tool... (e.g., merge, compress, split)",value:t,onChange:o=>r(o.target.value),style:{width:"100%",padding:"var(--space-4) var(--space-6)",fontSize:"var(--text-lg)",borderRadius:"var(--radius-2xl)",border:"2px solid var(--border-color)",background:"var(--glass-bg)",backdropFilter:"var(--glass-backdrop)",boxShadow:"var(--shadow-xl)",transition:"all var(--transition-base)"}})})]})}),a.jsx("section",{style:{padding:"var(--space-16) var(--space-6)"},children:a.jsxs("div",{className:"container",children:[a.jsx("h2",{style:{fontSize:"var(--text-3xl)",fontWeight:"var(--font-bold)",marginBottom:"var(--space-8)",textAlign:"center",color:"var(--text-primary)"},children:"All Tools"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"var(--space-6)",maxWidth:"1200px",margin:"0 auto"},children:s.map((o,c)=>a.jsxs("button",{onClick:()=>n(o),style:{background:"var(--surface)",borderRadius:"var(--radius-xl)",padding:"var(--space-6)",border:"1px solid var(--border-color)",boxShadow:"var(--shadow-md)",transition:"all var(--transition-base)",cursor:"pointer",textAlign:"left"},onMouseEnter:i=>{i.currentTarget.style.transform="translateY(-4px)",i.currentTarget.style.boxShadow="var(--shadow-colored)",i.currentTarget.style.borderColor="var(--color-primary-500)"},onMouseLeave:i=>{i.currentTarget.style.transform="translateY(0)",i.currentTarget.style.boxShadow="var(--shadow-md)",i.currentTarget.style.borderColor="var(--border-color)"},children:[a.jsx("h3",{style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-semibold)",color:"var(--text-primary)",marginBottom:"var(--space-2)"},children:o}),a.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:"Click to use"})]},o))})]})})]})},xe=({onFileSelect:e,accept:t=".pdf",multiple:r=!1,maxSize:n=100,icon:s="ðŸ“„"})=>{const[o,c]=d.useState(!1),[i,l]=d.useState(null),f=d.useRef(null),u=v=>{v.preventDefault(),c(!0)},g=v=>{v.preventDefault(),c(!1)},p=v=>{v.preventDefault(),c(!1);const m=Array.from(v.dataTransfer.files);y(m)},h=v=>{const m=Array.from(v.target.files);y(m)},y=v=>{l(null);const m=t.split(",").map(w=>w.trim());if(v.filter(w=>{if(t){const P="."+w.name.split(".").pop().toLowerCase(),k=w.type.toLowerCase();if(!m.some(S=>S.includes("/")?k===S:P===S.toLowerCase()))return!0}return w.size/(1024*1024)>n}).length>0){l(`Invalid files. Please upload ${t} files under ${n}MB.`);return}if(!r&&v.length>1){l("Please upload only one file.");return}e(r?v:v[0])},x=()=>{var v;(v=f.current)==null||v.click()};return a.jsxs("div",{children:[a.jsxs("div",{onClick:x,onDragOver:u,onDragLeave:g,onDrop:p,style:{background:o?"var(--color-primary-50)":"var(--surface)",borderRadius:"var(--radius-2xl)",padding:"var(--space-12)",border:o?"2px dashed var(--color-primary-500)":"2px dashed var(--border-color)",textAlign:"center",transition:"all var(--transition-base)",cursor:"pointer",position:"relative"},onMouseEnter:v=>{o||(v.currentTarget.style.borderColor="var(--color-primary-400)",v.currentTarget.style.background="var(--bg-secondary)")},onMouseLeave:v=>{o||(v.currentTarget.style.borderColor="var(--border-color)",v.currentTarget.style.background="var(--surface)")},children:[a.jsx("div",{style:{fontSize:"4rem",marginBottom:"var(--space-4)"},children:s}),a.jsx("h3",{style:{fontSize:"var(--text-xl)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-3)",color:o?"var(--color-primary-600)":"var(--text-primary)"},children:o?"Drop your files here":"Drop your PDF files here"}),a.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"var(--space-6)"},children:"or click to browse from your device"}),a.jsx("button",{type:"button",style:{background:"var(--gradient-primary)",color:"white",padding:"var(--space-4) var(--space-8)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-base)",fontWeight:"var(--font-semibold)",cursor:"pointer",transition:"transform var(--transition-fast), box-shadow var(--transition-fast)",boxShadow:"var(--shadow-md)",border:"none"},onMouseEnter:v=>{v.currentTarget.style.transform="translateY(-2px)",v.currentTarget.style.boxShadow="var(--shadow-lg)"},onMouseLeave:v=>{v.currentTarget.style.transform="translateY(0)",v.currentTarget.style.boxShadow="var(--shadow-md)"},children:"Select Files"}),a.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-tertiary)",marginTop:"var(--space-4)"},children:["Max size: ",n,"MB ",r?"â€¢ Multiple files allowed":""]})]}),i&&a.jsxs("div",{style:{background:"var(--color-error-light)",color:"var(--color-error)",padding:"var(--space-4)",borderRadius:"var(--radius-lg)",marginTop:"var(--space-4)",fontSize:"var(--text-sm)",fontWeight:"var(--font-medium)"},children:["âš ï¸ ",i]}),a.jsx("input",{ref:f,type:"file",accept:t,multiple:r,onChange:h,style:{display:"none"}})]})},re=async e=>await Ve.load(e),Bt=async()=>await Ve.create(),ce=async e=>await e.save(),mr=async(e,t,r)=>{(await t.copyPages(e,r)).forEach(s=>t.addPage(s))},pn=async(e,t={})=>{if(!e||e.length===0)throw new Error("No PDF files provided for merging");if(e.length===1){const n=await re(e[0]);return await ce(n)}const r=await Bt();for(const n of e)try{const s=await re(n),o=s.getPageCount(),c=Array.from({length:o},(i,l)=>l);await mr(s,r,c)}catch(s){throw console.error("Error processing PDF during merge:",s),new Error(`Failed to merge PDF: ${s.message}`)}return t.title&&r.setTitle(t.title),t.author&&r.setAuthor(t.author),t.subject&&r.setSubject(t.subject),await ce(r)},K=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>t(n.result),n.onerror=r,n.readAsArrayBuffer(e)}),be=(e,t="download.pdf")=>{const r=e instanceof Blob?e:new Blob([e],{type:"application/pdf"}),n=URL.createObjectURL(r),s=document.createElement("a");s.href=n,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(n)},hn="ePDF_Storage",mn=1,dt="pdf_files",xn=()=>new Promise((e,t)=>{const r=indexedDB.open(hn,mn);r.onerror=()=>t(r.error),r.onsuccess=()=>e(r.result),r.onupgradeneeded=n=>{const s=n.target.result;if(!s.objectStoreNames.contains(dt)){const o=s.createObjectStore(dt,{keyPath:"id",autoIncrement:!0});o.createIndex("timestamp","timestamp",{unique:!1}),o.createIndex("name","name",{unique:!1}),o.createIndex("tool","tool",{unique:!1})}}}),Te=async(e,t={})=>{const r=await xn(),n={data:e,name:t.name||"document.pdf",tool:t.tool||"unknown",size:e.size||e.byteLength,timestamp:Date.now(),...t};return new Promise((s,o)=>{const l=r.transaction([dt],"readwrite").objectStore(dt).add(n);l.onsuccess=()=>s(l.result),l.onerror=()=>o(l.error)})},xr=d.createContext(),ye=()=>{const e=d.useContext(xr);if(!e)throw new Error("useToast must be used within ToastProvider");return e},bn=({children:e})=>{const[t,r]=d.useState([]),n=d.useCallback((f,u="info",g=3e3)=>{const p=Date.now()+Math.random(),h={id:p,message:f,type:u,duration:g};return r(y=>[...y,h]),g>0&&setTimeout(()=>{s(p)},g),p},[]),s=d.useCallback(f=>{r(u=>u.filter(g=>g.id!==f))},[]),o=d.useCallback((f,u)=>n(f,"success",u),[n]),c=d.useCallback((f,u)=>n(f,"error",u),[n]),i=d.useCallback((f,u)=>n(f,"warning",u),[n]),l=d.useCallback((f,u)=>n(f,"info",u),[n]);return a.jsxs(xr.Provider,{value:{toasts:t,addToast:n,removeToast:s,success:o,error:c,warning:i,info:l},children:[e,a.jsx(yn,{toasts:t,removeToast:s})]})},yn=({toasts:e,removeToast:t})=>e.length===0?null:a.jsx("div",{style:{position:"fixed",top:"1rem",right:"1rem",zIndex:"var(--z-tooltip)",display:"flex",flexDirection:"column",gap:"var(--space-3)",maxWidth:"400px"},children:e.map(r=>a.jsx(wn,{...r,onClose:()=>t(r.id)},r.id))}),wn=({id:e,message:t,type:r,onClose:n})=>{const s={success:{background:"var(--color-success-light)",color:"var(--color-success)",borderLeft:"4px solid var(--color-success)"},error:{background:"var(--color-error-light)",color:"var(--color-error)",borderLeft:"4px solid var(--color-error)"},warning:{background:"var(--color-warning-light)",color:"var(--color-warning)",borderLeft:"4px solid var(--color-warning)"},info:{background:"var(--color-info-light)",color:"var(--color-info)",borderLeft:"4px solid var(--color-info)"}};return a.jsxs("div",{className:"animate-slideDown",style:{...s[r],padding:"var(--space-4)",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-lg)",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"var(--space-3)",minWidth:"300px"},children:[a.jsx("span",{style:{flex:1,fontWeight:"var(--font-medium)"},children:t}),a.jsx("button",{onClick:n,style:{background:"none",border:"none",cursor:"pointer",fontSize:"var(--text-lg)",opacity:.7,transition:"opacity var(--transition-fast)"},onMouseEnter:o=>o.target.style.opacity=1,onMouseLeave:o=>o.target.style.opacity=.7,children:"Ã—"})]})},Sn=()=>{const e=de(),{success:t,error:r}=ye(),[n,s]=d.useState([]),[o,c]=d.useState(!1),i=u=>{s(Array.isArray(u)?u:[u])},l=u=>{s(n.filter((g,p)=>p!==u))},f=async()=>{if(n.length<2){r("Please select at least 2 PDF files to merge");return}c(!0);try{const u=await Promise.all(n.map(h=>K(h))),g=await pn(u,{title:"Merged PDF",author:"ePDF"}),p=`merged-${Date.now()}.pdf`;be(g,p),await Te(g,{name:p,tool:"Merge PDF",originalCount:n.length}),t("PDFs merged successfully!"),s([])}catch(u){console.error("Merge error:",u),r(`Failed to merge PDFs: ${u.message}`)}finally{c(!1)}};return a.jsx("div",{style:{minHeight:"calc(100vh - 200px)",padding:"var(--space-16) var(--space-6)"},children:a.jsxs("div",{className:"container",style:{maxWidth:"1200px"},children:[a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx("button",{onClick:()=>e("/"),style:{color:"var(--color-primary-600)",fontSize:"var(--text-base)",fontWeight:"var(--font-medium)",cursor:"pointer",transition:"color var(--transition-fast)",background:"none",border:"none",padding:0},onMouseEnter:u=>u.target.style.color="var(--color-primary-700)",onMouseLeave:u=>u.target.style.color="var(--color-primary-600)",children:"â† Back to all tools"})}),a.jsxs("div",{style:{textAlign:"center",marginBottom:"var(--space-12)"},children:[a.jsx("h1",{style:{fontSize:"var(--text-4xl)",fontWeight:"var(--font-bold)",marginBottom:"var(--space-4)",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Merge PDF"}),a.jsx("p",{style:{fontSize:"var(--text-lg)",color:"var(--text-secondary)"},children:"Combine multiple PDF files into a single document"})]}),a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx(xe,{onFileSelect:i,accept:".pdf",multiple:!0,icon:"ðŸ“‘"})}),n.length>0&&a.jsxs("div",{style:{background:"var(--surface)",borderRadius:"var(--radius-xl)",padding:"var(--space-6)",marginBottom:"var(--space-8)",border:"1px solid var(--border-color)"},children:[a.jsxs("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-4)"},children:["Selected Files (",n.length,")"]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-3)"},children:n.map((u,g)=>a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"var(--space-3) var(--space-4)",background:"var(--bg-secondary)",borderRadius:"var(--radius-lg)",border:"1px solid var(--border-color)"},children:[a.jsxs("div",{children:[a.jsxs("div",{style:{fontWeight:"var(--font-medium)",marginBottom:"var(--space-1)"},children:[g+1,". ",u.name]}),a.jsxs("div",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:[(u.size/1024/1024).toFixed(2)," MB"]})]}),a.jsx("button",{onClick:()=>l(g),style:{padding:"var(--space-2) var(--space-3)",background:"var(--color-error-light)",color:"var(--color-error)",borderRadius:"var(--radius-md)",cursor:"pointer",border:"1px solid var(--color-error)",fontSize:"var(--text-sm)",fontWeight:"var(--font-medium)"},children:"Remove"})]},g))})]}),n.length>=2&&a.jsx("div",{style:{textAlign:"center"},children:a.jsx("button",{onClick:f,disabled:o,style:{background:o?"var(--color-gray-400)":"var(--gradient-primary)",color:"white",padding:"var(--space-4) var(--space-12)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-lg)",fontWeight:"var(--font-bold)",cursor:o?"not-allowed":"pointer",transition:"transform var(--transition-fast), box-shadow var(--transition-fast)",boxShadow:"var(--shadow-lg)",border:"none"},onMouseEnter:u=>{o||(u.currentTarget.style.transform="translateY(-2px)",u.currentTarget.style.boxShadow="var(--shadow-xl)")},onMouseLeave:u=>{o||(u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="var(--shadow-lg)")},children:o?"Merging PDFs...":`Merge ${n.length} PDFs`})})]})})},Cn=async(e,t)=>{const r=await re(e),n=r.getPageCount(),s=[];for(const o of t){const c=Math.max(0,(o.start||1)-1),i=Math.min(n-1,(o.end||n)-1);if(c>i||c>=n)continue;const l=[];for(let g=c;g<=i;g++)l.push(g);const f=await Bt();await mr(r,f,l);const u=await ce(f);s.push(u)}return s},jn=async e=>(await re(e)).getPageCount(),Dn=()=>{const e=de(),{success:t,error:r}=ye(),[n,s]=d.useState(null),[o,c]=d.useState(0),[i,l]=d.useState([{start:1,end:1}]),[f,u]=d.useState(!1),g=async v=>{s(v);try{const m=await K(v),b=await jn(m);c(b),l([{start:1,end:Math.min(b,1)}])}catch{r("Failed to load PDF")}},p=()=>{l([...i,{start:1,end:Math.min(o,1)}])},h=v=>{l(i.filter((m,b)=>b!==v))},y=(v,m,b)=>{const w=[...i];w[v][m]=parseInt(b)||1,l(w)},x=async()=>{if(!n){r("Please select a PDF file");return}if(i.length===0){r("Please add at least one page range");return}u(!0);try{const v=await K(n),m=await Cn(v,i);m.forEach((b,w)=>{const C=`split-${w+1}-pages-${i[w].start}-${i[w].end}.pdf`;be(b,C)}),t(`Successfully split into ${m.length} PDF files!`),s(null),c(0),l([{start:1,end:1}])}catch(v){console.error("Split error:",v),r(`Failed to split PDF: ${v.message}`)}finally{u(!1)}};return a.jsx("div",{style:{minHeight:"calc(100vh - 200px)",padding:"var(--space-16) var(--space-6)"},children:a.jsxs("div",{className:"container",style:{maxWidth:"1200px"},children:[a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx("button",{onClick:()=>e("/"),style:{color:"var(--color-primary-600)",fontSize:"var(--text-base)",fontWeight:"var(--font-medium)",cursor:"pointer",background:"none",border:"none",padding:0},children:"â† Back to all tools"})}),a.jsxs("div",{style:{textAlign:"center",marginBottom:"var(--space-12)"},children:[a.jsx("h1",{style:{fontSize:"var(--text-4xl)",fontWeight:"var(--font-bold)",marginBottom:"var(--space-4)",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Split PDF"}),a.jsx("p",{style:{fontSize:"var(--text-lg)",color:"var(--text-secondary)"},children:"Extract specific page ranges from your PDF"})]}),a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx(xe,{onFileSelect:g,accept:".pdf",multiple:!1,icon:"âœ‚ï¸"})}),n&&o>0&&a.jsxs("div",{style:{background:"var(--surface)",borderRadius:"var(--radius-xl)",padding:"var(--space-6)",marginBottom:"var(--space-8)",border:"1px solid var(--border-color)"},children:[a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-4)"},children:[a.jsxs("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)"},children:["Page Ranges (Total: ",o," pages)"]}),a.jsx("button",{onClick:p,style:{padding:"var(--space-2) var(--space-4)",background:"var(--gradient-primary)",color:"white",borderRadius:"var(--radius-md)",cursor:"pointer",border:"none",fontSize:"var(--text-sm)",fontWeight:"var(--font-medium)"},children:"+ Add Range"})]}),a.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-3)"},children:i.map((v,m)=>a.jsxs("div",{style:{display:"flex",gap:"var(--space-4)",alignItems:"center",padding:"var(--space-3)",background:"var(--bg-secondary)",borderRadius:"var(--radius-lg)"},children:[a.jsxs("span",{style:{fontWeight:"var(--font-medium)"},children:["Range ",m+1,":"]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[a.jsx("span",{children:"From"}),a.jsx("input",{type:"number",min:"1",max:o,value:v.start,onChange:b=>y(m,"start",b.target.value),style:{width:"80px",padding:"var(--space-2)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-color)"}})]}),a.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[a.jsx("span",{children:"To"}),a.jsx("input",{type:"number",min:"1",max:o,value:v.end,onChange:b=>y(m,"end",b.target.value),style:{width:"80px",padding:"var(--space-2)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-color)"}})]}),i.length>1&&a.jsx("button",{onClick:()=>h(m),style:{padding:"var(--space-2) var(--space-3)",background:"var(--color-error-light)",color:"var(--color-error)",borderRadius:"var(--radius-md)",cursor:"pointer",border:"none",fontSize:"var(--text-sm)"},children:"Remove"})]},m))})]}),n&&o>0&&a.jsx("div",{style:{textAlign:"center"},children:a.jsx("button",{onClick:x,disabled:f,style:{background:f?"var(--color-gray-400)":"var(--gradient-primary)",color:"white",padding:"var(--space-4) var(--space-12)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-lg)",fontWeight:"var(--font-bold)",cursor:f?"not-allowed":"pointer",boxShadow:"var(--shadow-lg)",border:"none"},children:f?"Splitting PDF...":`Split into ${i.length} PDF${i.length>1?"s":""}`})})]})})},Rn=async(e,t)=>{const r=await re(e);r.getPageCount();const n=r.getPages(),s=Pn(t);return n.forEach((o,c)=>{const l=(o.getRotation().angle+s)%360;o.setRotation(rn(l))}),await ce(r)},Pn=e=>{if(![0,90,180,270,-90,-180,-270].includes(e))throw new Error(`Invalid rotation: ${e}. Must be 90, 180, 270, or -90`);return(e%360+360)%360},kn=()=>{const e=de(),{success:t,error:r}=ye(),[n,s]=d.useState(null),[o,c]=d.useState(90),[i,l]=d.useState(!1),f=g=>{s(g)},u=async()=>{if(!n){r("Please select a PDF file");return}l(!0);try{const g=await K(n),p=await Rn(g,o),h=`rotated-${o}-${n.name}`;be(p,h),t(`PDF rotated ${o}Â° successfully!`),s(null)}catch(g){console.error("Rotate error:",g),r(`Failed to rotate PDF: ${g.message}`)}finally{l(!1)}};return a.jsx("div",{style:{minHeight:"calc(100vh - 200px)",padding:"var(--space-16) var(--space-6)"},children:a.jsxs("div",{className:"container",style:{maxWidth:"1200px"},children:[a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx("button",{onClick:()=>e("/"),style:{color:"var(--color-primary-600)",cursor:"pointer",background:"none",border:"none"},children:"â† Back to all tools"})}),a.jsxs("div",{style:{textAlign:"center",marginBottom:"var(--space-12)"},children:[a.jsx("h1",{style:{fontSize:"var(--text-4xl)",fontWeight:"var(--font-bold)",marginBottom:"var(--space-4)",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Rotate PDF"}),a.jsx("p",{style:{fontSize:"var(--text-lg)",color:"var(--text-secondary)"},children:"Rotate all pages in your PDF document"})]}),a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx(xe,{onFileSelect:f,accept:".pdf",icon:"ðŸ”„"})}),n&&a.jsxs("div",{style:{background:"var(--surface)",borderRadius:"var(--radius-xl)",padding:"var(--space-6)",marginBottom:"var(--space-8)",border:"1px solid var(--border-color)"},children:[a.jsx("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-4)"},children:"Select Rotation"}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"var(--space-4)"},children:[{value:90,label:"90Â° Clockwise",icon:"â†»"},{value:180,label:"180Â°",icon:"â†•"},{value:270,label:"270Â° (90Â° CCW)",icon:"â†º"}].map(g=>a.jsxs("button",{onClick:()=>c(g.value),style:{padding:"var(--space-6)",background:o===g.value?"var(--gradient-primary)":"var(--bg-secondary)",color:o===g.value?"white":"var(--text-primary)",borderRadius:"var(--radius-lg)",border:o===g.value?"none":"1px solid var(--border-color)",cursor:"pointer",fontSize:"var(--text-3xl)",fontWeight:"var(--font-semibold)",textAlign:"center",transition:"all var(--transition-base)"},children:[a.jsx("div",{children:g.icon}),a.jsx("div",{style:{fontSize:"var(--text-sm)",marginTop:"var(--space-2)"},children:g.label})]},g.value))})]}),n&&a.jsx("div",{style:{textAlign:"center"},children:a.jsx("button",{onClick:u,disabled:i,style:{background:i?"var(--color-gray-400)":"var(--gradient-primary)",color:"white",padding:"var(--space-4) var(--space-12)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-lg)",fontWeight:"var(--font-bold)",cursor:i?"not-allowed":"pointer",boxShadow:"var(--shadow-lg)",border:"none"},children:i?"Rotating PDF...":`Rotate ${o}Â°`})})]})})},En=async(e,t={})=>{const r=e.byteLength,n=await re(e);n.setTitle(""),n.setAuthor(""),n.setSubject(""),n.setKeywords([]),n.setProducer(""),n.setCreator("");try{n.setCreationDate(new Date(0)),n.setModificationDate(new Date(0))}catch{}const s=await ce(n),o=s.byteLength,c=Tn(r,o);return{compressed:s,stats:c}},Tn=(e,t)=>{const r=e-t,n=(r/e*100).toFixed(2),s=(e/t).toFixed(2);return{originalSize:e,compressedSize:t,savedBytes:r,savedPercentage:parseFloat(n),compressionRatio:parseFloat(s),originalSizeFormatted:Ct(e),compressedSizeFormatted:Ct(t),savedBytesFormatted:Ct(r)}},Ct=e=>{if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(t));return`${(e/Math.pow(t,n)).toFixed(2)} ${r[n]}`},Fn=()=>{const e=de(),{success:t,error:r}=ye(),[n,s]=d.useState(null),[o,c]=d.useState(!1),[i,l]=d.useState(null),f=g=>{s(g),l(null)},u=async()=>{if(!n){r("Please select a PDF file first");return}c(!0);try{const g=await K(n),p=await En(g,{removeMetadata:!0});l(p.stats);const h=`compressed-${n.name}`;be(p.compressed,h),await Te(p.compressed,{name:h,tool:"Compress PDF",originalSize:p.stats.originalSize,compressedSize:p.stats.compressedSize}),t(`PDF optimized! Saved ${p.stats.savedPercentage}%`)}catch(g){console.error("Compression error:",g),r(`Failed to compress PDF: ${g.message}`)}finally{c(!1)}};return a.jsx("div",{style:{minHeight:"calc(100vh - 200px)",padding:"var(--space-16) var(--space-6)"},children:a.jsxs("div",{className:"container",style:{maxWidth:"1200px"},children:[a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx("button",{onClick:()=>e("/"),style:{color:"var(--color-primary-600)",fontSize:"var(--text-base)",cursor:"pointer",background:"none",border:"none",padding:0},children:"â† Back to all tools"})}),a.jsxs("div",{style:{textAlign:"center",marginBottom:"var(--space-12)"},children:[a.jsx("h1",{style:{fontSize:"var(--text-4xl)",fontWeight:"var(--font-bold)",marginBottom:"var(--space-4)",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Compress PDF"}),a.jsx("p",{style:{fontSize:"var(--text-lg)",color:"var(--text-secondary)",marginBottom:"var(--space-3)"},children:"Optimize PDF by removing metadata"}),a.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--color-gray-500)",maxWidth:"600px",margin:"0 auto"},children:"Note: Only removes metadata (0-15% typical). Real image/font compression requires commercial tools."})]}),a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx(xe,{onFileSelect:f,accept:".pdf",multiple:!1,icon:"ðŸ—œï¸"})}),n&&a.jsxs("div",{style:{background:"var(--surface)",borderRadius:"var(--radius-xl)",padding:"var(--space-6)",marginBottom:"var(--space-8)",border:"1px solid var(--border-color)"},children:[a.jsx("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-4)"},children:n.name}),a.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)",marginBottom:"var(--space-4)"},children:["Original Size: ",(n.size/1024/1024).toFixed(2)," MB"]}),i&&a.jsxs("div",{style:{background:"var(--bg-secondary)",borderRadius:"var(--radius-lg)",padding:"var(--space-4)",marginTop:"var(--space-4)"},children:[a.jsx("h4",{style:{fontWeight:"var(--font-semibold)",marginBottom:"var(--space-3)"},children:"Compression Results"}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"var(--space-3)"},children:[a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:"Compressed Size"}),a.jsx("p",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)",color:"var(--color-primary-600)"},children:i.compressedSizeFormatted})]}),a.jsxs("div",{children:[a.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:"Space Saved"}),a.jsxs("p",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)",color:"var(--color-primary-600)"},children:[i.savedPercentage,"%"]})]})]})]}),a.jsx("div",{style:{textAlign:"center",marginTop:"var(--space-6)"},children:a.jsx("button",{onClick:u,disabled:o,style:{background:o?"var(--color-gray-400)":"var(--gradient-primary)",color:"white",padding:"var(--space-4) var(--space-12)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-lg)",fontWeight:"var(--font-bold)",cursor:o?"not-allowed":"pointer",boxShadow:"var(--shadow-lg)",border:"none"},children:o?"Optimizing...":i?"Optimize Again":"Optimize PDF"})})]})]})})},zn=async(e,t={})=>{if(!e||e.length===0)throw new Error("No images provided");const r=await Bt();for(const n of e)try{const s=await An(n),o=n.type;await Bn(r,s,o,t)}catch(s){console.error(`Failed to process image ${n.name}:`,s)}return t.title&&r.setTitle(t.title),r.setProducer("ePDF"),r.setCreator("ePDF Image to PDF Converter"),await ce(r)},Bn=async(e,t,r,n={})=>{let s;if(r==="image/jpeg"||r==="image/jpg")s=await e.embedJpg(t);else if(r==="image/png")s=await e.embedPng(t);else throw new Error(`Unsupported image type: ${r}. Supported: JPG, PNG`);const o=s.scale(1);let c,i;n.pageSize==="a4"?(c=595,i=842):n.pageSize==="letter"?(c=612,i=792):(c=o.width,i=o.height);const l=e.addPage([c,i]);let f=1;if(n.pageSize){const y=c/o.width,x=i/o.height;f=Math.min(y,x)*(n.fitMode==="fill"?Math.max(y,x):1)}const u=o.width*f,g=o.height*f,p=(c-u)/2,h=(i-g)/2;l.drawImage(s,{x:p,y:h,width:u,height:g})},An=e=>new Promise((t,r)=>{const n=new FileReader;n.onload=()=>t(n.result),n.onerror=r,n.readAsArrayBuffer(e)}),In=()=>{const e=de(),{success:t,error:r}=ye(),[n,s]=d.useState([]),[o,c]=d.useState(!1),[i,l]=d.useState("fit"),f=p=>{const y=(Array.isArray(p)?p:[p]).map((x,v)=>({file:x,preview:URL.createObjectURL(x),id:Date.now()+v}));s(x=>[...x,...y])},u=p=>{s(h=>{const y=h.filter(v=>v.id!==p),x=h.find(v=>v.id===p);return x&&URL.revokeObjectURL(x.preview),y})},g=async()=>{if(n.length===0){r("Please select at least one image");return}c(!0);try{const p=n.map(x=>x.file),h=await zn(p,{pageSize:i==="fit"?null:i,title:"Converted from Images"}),y=`images-to-pdf-${Date.now()}.pdf`;be(h,y),await Te(h,{name:y,tool:"JPG to PDF",imageCount:n.length}),t(`Converted ${n.length} image${n.length>1?"s":""} to PDF!`),n.forEach(x=>URL.revokeObjectURL(x.preview)),s([])}catch(p){console.error("Conversion error:",p),r(`Failed to convert images: ${p.message}`)}finally{c(!1)}};return a.jsx("div",{style:{minHeight:"calc(100vh - 200px)",padding:"var(--space-16) var(--space-6)"},children:a.jsxs("div",{className:"container",style:{maxWidth:"1200px"},children:[a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx("button",{onClick:()=>e("/"),style:{color:"var(--color-primary-600)",fontSize:"var(--text-base)",cursor:"pointer",background:"none",border:"none",padding:0},children:"â† Back to all tools"})}),a.jsxs("div",{style:{textAlign:"center",marginBottom:"var(--space-12)"},children:[a.jsx("h1",{style:{fontSize:"var(--text-4xl)",fontWeight:"var(--font-bold)",marginBottom:"var(--space-4)",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"JPG to PDF"}),a.jsx("p",{style:{fontSize:"var(--text-lg)",color:"var(--text-secondary)"},children:"Convert images to PDF (Supports JPG and PNG)"})]}),a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx(xe,{onFileSelect:f,accept:"image/jpeg,image/jpg,image/png",multiple:!0,maxSize:10,icon:"ðŸ–¼ï¸"})}),n.length>0&&a.jsxs("div",{style:{background:"var(--surface)",borderRadius:"var(--radius-xl)",padding:"var(--space-6)",marginBottom:"var(--space-8)",border:"1px solid var(--border-color)"},children:[a.jsxs("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-4)"},children:["Selected Images (",n.length,")"]}),a.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[a.jsx("label",{style:{display:"block",marginBottom:"var(--space-2)",fontWeight:"var(--font-medium)"},children:"Page Size:"}),a.jsx("div",{style:{display:"flex",gap:"var(--space-3)"},children:[{value:"fit",label:"Fit to Image"},{value:"a4",label:"A4"},{value:"letter",label:"Letter"}].map(p=>a.jsx("button",{onClick:()=>l(p.value),style:{padding:"var(--space-2) var(--space-4)",background:i===p.value?"var(--gradient-primary)":"var(--bg-secondary)",color:i===p.value?"white":"var(--text-primary)",border:i===p.value?"none":"1px solid var(--border-color)",borderRadius:"var(--radius-lg)",cursor:"pointer",fontSize:"var(--text-sm)",fontWeight:i===p.value?"var(--font-semibold)":"var(--font-medium)"},children:p.label},p.value))})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"var(--space-4)",marginBottom:"var(--space-6)"},children:n.map((p,h)=>a.jsxs("div",{style:{position:"relative",background:"var(--bg-secondary)",borderRadius:"var(--radius-lg)",overflow:"hidden",border:"1px solid var(--border-color)"},children:[a.jsx("div",{style:{width:"100%",paddingTop:"100%",position:"relative"},children:a.jsx("img",{src:p.preview,alt:p.file.name,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}})}),a.jsx("div",{style:{position:"absolute",top:"var(--space-1)",left:"var(--space-1)",background:"rgba(0, 0, 0, 0.7)",color:"white",padding:"var(--space-1)",borderRadius:"var(--radius-md)",fontSize:"var(--text-xs)",fontWeight:"var(--font-semibold)"},children:h+1}),a.jsx("button",{onClick:()=>u(p.id),style:{position:"absolute",top:"var(--space-1)",right:"var(--space-1)",background:"rgba(255, 0, 0, 0.8)",color:"white",border:"none",borderRadius:"var(--radius-full)",width:"24px",height:"24px",cursor:"pointer",fontSize:"var(--text-lg)",lineHeight:"1"},children:"Ã—"})]},p.id))}),a.jsx("div",{style:{textAlign:"center"},children:a.jsx("button",{onClick:g,disabled:o,style:{background:o?"var(--color-gray-400)":"var(--gradient-primary)",color:"white",padding:"var(--space-4) var(--space-12)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-lg)",fontWeight:"var(--font-bold)",cursor:o?"not-allowed":"pointer",boxShadow:"var(--shadow-lg)",border:"none"},children:o?"Converting...":"Convert to PDF"})})]})]})})},Mn=async(e,t)=>{const r=await re(e),n=r.getPageCount();if(t.length===0)throw new Error("No pages selected for removal");if(t.length>=n)throw new Error("Cannot remove all pages from PDF");const s=[];for(let l=0;l<n;l++)t.includes(l)||s.push(l);const o=await Ve.create();(await o.copyPages(r,s)).forEach(l=>o.addPage(l));const i={title:r.getTitle(),author:r.getAuthor(),subject:r.getSubject(),creator:r.getCreator(),producer:"ePDF - Remove Pages"};return i.title&&o.setTitle(i.title),i.author&&o.setAuthor(i.author),i.subject&&o.setSubject(i.subject),i.creator&&o.setCreator(i.creator),o.setProducer(i.producer),await ce(o)},At=async e=>(await re(e)).getPageCount(),Wn=()=>{const e=de(),{success:t,error:r}=ye(),[n,s]=d.useState(null),[o,c]=d.useState(0),[i,l]=d.useState([]),[f,u]=d.useState(!1),g=async v=>{s(v),l([]);try{const m=await K(v),b=await At(m);c(b)}catch(m){r(`Failed to load PDF: ${m.message}`)}},p=v=>{l(m=>m.includes(v)?m.filter(b=>b!==v):[...m,v])},h=()=>{const v=Array.from({length:o},(m,b)=>b);l(v)},y=()=>{l([])},x=async()=>{if(!n){r("Please select a PDF file first");return}if(i.length===0){r("Please select at least one page to remove");return}if(i.length>=o){r("Cannot remove all pages from PDF");return}u(!0);try{const v=await K(n),m=await Mn(v,i),b=`removed-pages-${n.name}`;be(m,b),await Te(m,{name:b,tool:"Remove Pages",removedPages:i.length,remainingPages:o-i.length}),t(`Removed ${i.length} page(s). ${o-i.length} page(s) remaining.`),s(null),l([]),c(0)}catch(v){console.error("Remove pages error:",v),r(`Failed to remove pages: ${v.message}`)}finally{u(!1)}};return a.jsx("div",{style:{minHeight:"calc(100vh - 200px)",padding:"var(--space-16) var(--space-6)"},children:a.jsxs("div",{className:"container",style:{maxWidth:"1200px"},children:[a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx("button",{onClick:()=>e("/"),style:{color:"var(--color-primary-600)",fontSize:"var(--text-base)",cursor:"pointer",background:"none",border:"none",padding:0},children:"â† Back to all tools"})}),a.jsxs("div",{style:{textAlign:"center",marginBottom:"var(--space-12)"},children:[a.jsx("h1",{style:{fontSize:"var(--text-4xl)",fontWeight:"var(--font-bold)",marginBottom:"var(--space-4)",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Remove Pages"}),a.jsx("p",{style:{fontSize:"var(--text-lg)",color:"var(--text-secondary)"},children:"Delete unwanted pages from your PDF"})]}),a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx(xe,{onFileSelect:g,accept:".pdf",multiple:!1,icon:"ðŸ—‘ï¸"})}),n&&o>0&&a.jsxs("div",{style:{background:"var(--surface)",borderRadius:"var(--radius-xl)",padding:"var(--space-6)",marginBottom:"var(--space-8)",border:"1px solid var(--border-color)"},children:[a.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[a.jsx("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-2)"},children:n.name}),a.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:["Total Pages: ",o," | Selected: ",i.length]})]}),a.jsxs("div",{style:{display:"flex",gap:"var(--space-3)",marginBottom:"var(--space-6)"},children:[a.jsx("button",{onClick:h,style:{padding:"var(--space-2) var(--space-4)",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"var(--radius-lg)",cursor:"pointer",fontSize:"var(--text-sm)"},children:"Select All"}),a.jsx("button",{onClick:y,style:{padding:"var(--space-2) var(--space-4)",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"var(--radius-lg)",cursor:"pointer",fontSize:"var(--text-sm)"},children:"Deselect All"})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:"var(--space-4)",marginBottom:"var(--space-6)"},children:Array.from({length:o},(v,m)=>a.jsxs("div",{onClick:()=>p(m),style:{padding:"var(--space-4)",background:i.includes(m)?"var(--color-primary-100)":"var(--bg-secondary)",border:i.includes(m)?"2px solid var(--color-primary-500)":"1px solid var(--border-color)",borderRadius:"var(--radius-lg)",cursor:"pointer",textAlign:"center",transition:"all var(--transition-base)"},children:[a.jsx("div",{style:{fontSize:"var(--text-2xl)",marginBottom:"var(--space-2)"},children:"ðŸ“„"}),a.jsxs("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-medium)"},children:["Page ",m+1]}),i.includes(m)&&a.jsx("div",{style:{marginTop:"var(--space-2)",fontSize:"var(--text-xs)",color:"var(--color-primary-600)"},children:"âœ“ Selected"})]},m))}),a.jsx("div",{style:{textAlign:"center"},children:a.jsx("button",{onClick:x,disabled:f||i.length===0||i.length>=o,style:{background:f||i.length===0||i.length>=o?"var(--color-gray-400)":"var(--gradient-primary)",color:"white",padding:"var(--space-4) var(--space-12)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-lg)",fontWeight:"var(--font-bold)",cursor:f||i.length===0||i.length>=o?"not-allowed":"pointer",boxShadow:"var(--shadow-lg)",border:"none"},children:f?"Removing Pages...":`Remove ${i.length} Page(s)`})})]})]})})},On=async(e,t)=>{const r=await re(e),n=r.getPageCount();if(t.length===0)throw new Error("No pages selected for extraction");const s=[...t].sort((l,f)=>l-f);for(const l of s)if(l<0||l>=n)throw new Error(`Invalid page number: ${l+1}`);const o=await Ve.create();(await o.copyPages(r,s)).forEach(l=>o.addPage(l));const i={title:r.getTitle(),author:r.getAuthor(),subject:r.getSubject(),creator:r.getCreator(),producer:"ePDF - Extract Pages"};return i.title&&o.setTitle(i.title),i.author&&o.setAuthor(i.author),i.subject&&o.setSubject(i.subject),i.creator&&o.setCreator(i.creator),o.setProducer(i.producer),await ce(o)},Nn=()=>{const e=de(),{success:t,error:r}=ye(),[n,s]=d.useState(null),[o,c]=d.useState(0),[i,l]=d.useState([]),[f,u]=d.useState(!1),g=async v=>{s(v),l([]);try{const m=await K(v),b=await At(m);c(b)}catch(m){r(`Failed to load PDF: ${m.message}`)}},p=v=>{l(m=>m.includes(v)?m.filter(b=>b!==v):[...m,v])},h=()=>{const v=Array.from({length:o},(m,b)=>b);l(v)},y=()=>{l([])},x=async()=>{if(!n){r("Please select a PDF file first");return}if(i.length===0){r("Please select at least one page to extract");return}u(!0);try{const v=await K(n),m=await On(v,i),b=`extracted-pages-${n.name}`;be(m,b),await Te(m,{name:b,tool:"Extract Pages",extractedPages:i.length,originalPages:o}),t(`Extracted ${i.length} page(s) successfully!`),s(null),l([]),c(0)}catch(v){console.error("Extract pages error:",v),r(`Failed to extract pages: ${v.message}`)}finally{u(!1)}};return a.jsx("div",{style:{minHeight:"calc(100vh - 200px)",padding:"var(--space-16) var(--space-6)"},children:a.jsxs("div",{className:"container",style:{maxWidth:"1200px"},children:[a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx("button",{onClick:()=>e("/"),style:{color:"var(--color-primary-600)",fontSize:"var(--text-base)",cursor:"pointer",background:"none",border:"none",padding:0},children:"â† Back to all tools"})}),a.jsxs("div",{style:{textAlign:"center",marginBottom:"var(--space-12)"},children:[a.jsx("h1",{style:{fontSize:"var(--text-4xl)",fontWeight:"var(--font-bold)",marginBottom:"var(--space-4)",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Extract Pages"}),a.jsx("p",{style:{fontSize:"var(--text-lg)",color:"var(--text-secondary)"},children:"Save selected pages to a new PDF"})]}),a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx(xe,{onFileSelect:g,accept:".pdf",multiple:!1,icon:"ðŸ“„"})}),n&&o>0&&a.jsxs("div",{style:{background:"var(--surface)",borderRadius:"var(--radius-xl)",padding:"var(--space-6)",marginBottom:"var(--space-8)",border:"1px solid var(--border-color)"},children:[a.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[a.jsx("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-2)"},children:n.name}),a.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:["Total Pages: ",o," | Selected: ",i.length]})]}),a.jsxs("div",{style:{display:"flex",gap:"var(--space-3)",marginBottom:"var(--space-6)"},children:[a.jsx("button",{onClick:h,style:{padding:"var(--space-2) var(--space-4)",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"var(--radius-lg)",cursor:"pointer",fontSize:"var(--text-sm)"},children:"Select All"}),a.jsx("button",{onClick:y,style:{padding:"var(--space-2) var(--space-4)",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"var(--radius-lg)",cursor:"pointer",fontSize:"var(--text-sm)"},children:"Deselect All"})]}),a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:"var(--space-4)",marginBottom:"var(--space-6)"},children:Array.from({length:o},(v,m)=>a.jsxs("div",{onClick:()=>p(m),style:{padding:"var(--space-4)",background:i.includes(m)?"var(--color-primary-100)":"var(--bg-secondary)",border:i.includes(m)?"2px solid var(--color-primary-500)":"1px solid var(--border-color)",borderRadius:"var(--radius-lg)",cursor:"pointer",textAlign:"center",transition:"all var(--transition-base)"},children:[a.jsx("div",{style:{fontSize:"var(--text-2xl)",marginBottom:"var(--space-2)"},children:"ðŸ“„"}),a.jsxs("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-medium)"},children:["Page ",m+1]}),i.includes(m)&&a.jsx("div",{style:{marginTop:"var(--space-2)",fontSize:"var(--text-xs)",color:"var(--color-primary-600)"},children:"âœ“ Selected"})]},m))}),a.jsx("div",{style:{textAlign:"center"},children:a.jsx("button",{onClick:x,disabled:f||i.length===0,style:{background:f||i.length===0?"var(--color-gray-400)":"var(--gradient-primary)",color:"white",padding:"var(--space-4) var(--space-12)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-lg)",fontWeight:"var(--font-bold)",cursor:f||i.length===0?"not-allowed":"pointer",boxShadow:"var(--shadow-lg)",border:"none"},children:f?"Extracting Pages...":`Extract ${i.length} Page(s)`})})]})]})})};function Ln(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return d.useMemo(()=>n=>{t.forEach(s=>s(n))},t)}const pt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fe(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function It(e){return"nodeType"in e}function U(e){var t,r;return e?Fe(e)?e:It(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Mt(e){const{Document:t}=U(e);return e instanceof t}function Ke(e){return Fe(e)?!1:e instanceof U(e).HTMLElement}function br(e){return e instanceof U(e).SVGElement}function ze(e){return e?Fe(e)?e.document:It(e)?Mt(e)?e:Ke(e)||br(e)?e.ownerDocument:document:document:document}const ne=pt?d.useLayoutEffect:d.useEffect;function Wt(e){const t=d.useRef(e);return ne(()=>{t.current=e}),d.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t.current==null?void 0:t.current(...n)},[])}function $n(){const e=d.useRef(null),t=d.useCallback((n,s)=>{e.current=setInterval(n,s)},[]),r=d.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function qe(e,t){t===void 0&&(t=[e]);const r=d.useRef(e);return ne(()=>{r.current!==e&&(r.current=e)},t),r}function Qe(e,t){const r=d.useRef();return d.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function ut(e){const t=Wt(e),r=d.useRef(null),n=d.useCallback(s=>{s!==r.current&&(t==null||t(s,r.current)),r.current=s},[]);return[r,n]}function kt(e){const t=d.useRef();return d.useEffect(()=>{t.current=e},[e]),t.current}let jt={};function Ze(e,t){return d.useMemo(()=>{if(t)return t;const r=jt[e]==null?0:jt[e]+1;return jt[e]=r,e+"-"+r},[e,t])}function yr(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return n.reduce((o,c)=>{const i=Object.entries(c);for(const[l,f]of i){const u=o[l];u!=null&&(o[l]=u+e*f)}return o},{...t})}}const Ee=yr(1),Xe=yr(-1);function _n(e){return"clientX"in e&&"clientY"in e}function Ot(e){if(!e)return!1;const{KeyboardEvent:t}=U(e.target);return t&&e instanceof t}function Hn(e){if(!e)return!1;const{TouchEvent:t}=U(e.target);return t&&e instanceof t}function Et(e){if(Hn(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return _n(e)?{x:e.clientX,y:e.clientY}:null}const Ge=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[Ge.Translate.toString(e),Ge.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),tr="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Un(e){return e.matches(tr)?e:e.querySelector(tr)}const Yn={display:"none"};function qn(e){let{id:t,value:r}=e;return H.createElement("div",{id:t,style:Yn},r)}function Xn(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return H.createElement("div",{id:t,style:s,role:"status","aria-live":n,"aria-atomic":!0},r)}function Gn(){const[e,t]=d.useState("");return{announce:d.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const wr=d.createContext(null);function Jn(e){const t=d.useContext(wr);d.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Vn(){const[e]=d.useState(()=>new Set),t=d.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[d.useCallback(n=>{let{type:s,event:o}=n;e.forEach(c=>{var i;return(i=c[s])==null?void 0:i.call(c,o)})},[e]),t]}const Kn={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},Qn={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Zn(e){let{announcements:t=Qn,container:r,hiddenTextDescribedById:n,screenReaderInstructions:s=Kn}=e;const{announce:o,announcement:c}=Gn(),i=Ze("DndLiveRegion"),[l,f]=d.useState(!1);if(d.useEffect(()=>{f(!0)},[]),Jn(d.useMemo(()=>({onDragStart(g){let{active:p}=g;o(t.onDragStart({active:p}))},onDragMove(g){let{active:p,over:h}=g;t.onDragMove&&o(t.onDragMove({active:p,over:h}))},onDragOver(g){let{active:p,over:h}=g;o(t.onDragOver({active:p,over:h}))},onDragEnd(g){let{active:p,over:h}=g;o(t.onDragEnd({active:p,over:h}))},onDragCancel(g){let{active:p,over:h}=g;o(t.onDragCancel({active:p,over:h}))}}),[o,t])),!l)return null;const u=H.createElement(H.Fragment,null,H.createElement(qn,{id:n,value:s.draggable}),H.createElement(Xn,{id:i,announcement:c}));return r?_e.createPortal(u,r):u}var M;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(M||(M={}));function gt(){}function rr(e,t){return d.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function eo(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return d.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const Q=Object.freeze({x:0,y:0});function Sr(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Cr(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function to(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function nr(e){let{left:t,top:r,height:n,width:s}=e;return[{x:t,y:r},{x:t+s,y:r},{x:t,y:r+n},{x:t+s,y:r+n}]}function jr(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}function or(e,t,r){return t===void 0&&(t=e.left),r===void 0&&(r=e.top),{x:t+e.width*.5,y:r+e.height*.5}}const ro=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=or(t,t.left,t.top),o=[];for(const c of n){const{id:i}=c,l=r.get(i);if(l){const f=Sr(or(l),s);o.push({id:i,data:{droppableContainer:c,value:f}})}}return o.sort(Cr)},no=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=nr(t),o=[];for(const c of n){const{id:i}=c,l=r.get(i);if(l){const f=nr(l),u=s.reduce((p,h,y)=>p+Sr(f[y],h),0),g=Number((u/4).toFixed(4));o.push({id:i,data:{droppableContainer:c,value:g}})}}return o.sort(Cr)};function oo(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),s=Math.min(t.left+t.width,e.left+e.width),o=Math.min(t.top+t.height,e.top+e.height),c=s-n,i=o-r;if(n<s&&r<o){const l=t.width*t.height,f=e.width*e.height,u=c*i,g=u/(l+f-u);return Number(g.toFixed(4))}return 0}const ao=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const s=[];for(const o of n){const{id:c}=o,i=r.get(c);if(i){const l=oo(i,t);l>0&&s.push({id:c,data:{droppableContainer:o,value:l}})}}return s.sort(to)};function so(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function Dr(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Q}function io(e){return function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((c,i)=>({...c,top:c.top+e*i.y,bottom:c.bottom+e*i.y,left:c.left+e*i.x,right:c.right+e*i.x}),{...r})}}const lo=io(1);function co(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function uo(e,t,r){const n=co(t);if(!n)return e;const{scaleX:s,scaleY:o,x:c,y:i}=n,l=e.left-c-(1-s)*parseFloat(r),f=e.top-i-(1-o)*parseFloat(r.slice(r.indexOf(" ")+1)),u=s?e.width/s:e.width,g=o?e.height/o:e.height;return{width:u,height:g,top:f,right:l+u,bottom:f+g,left:l}}const go={ignoreTransform:!1};function Be(e,t){t===void 0&&(t=go);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:f,transformOrigin:u}=U(e).getComputedStyle(e);f&&(r=uo(r,f,u))}const{top:n,left:s,width:o,height:c,bottom:i,right:l}=r;return{top:n,left:s,width:o,height:c,bottom:i,right:l}}function ar(e){return Be(e,{ignoreTransform:!0})}function fo(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function vo(e,t){return t===void 0&&(t=U(e).getComputedStyle(e)),t.position==="fixed"}function po(e,t){t===void 0&&(t=U(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=t[s];return typeof o=="string"?r.test(o):!1})}function ht(e,t){const r=[];function n(s){if(t!=null&&r.length>=t||!s)return r;if(Mt(s)&&s.scrollingElement!=null&&!r.includes(s.scrollingElement))return r.push(s.scrollingElement),r;if(!Ke(s)||br(s)||r.includes(s))return r;const o=U(e).getComputedStyle(s);return s!==e&&po(s,o)&&r.push(s),vo(s,o)?r:n(s.parentNode)}return e?n(e):r}function Rr(e){const[t]=ht(e,1);return t??null}function Dt(e){return!pt||!e?null:Fe(e)?e:It(e)?Mt(e)||e===ze(e).scrollingElement?window:Ke(e)?e:null:null}function Pr(e){return Fe(e)?e.scrollX:e.scrollLeft}function kr(e){return Fe(e)?e.scrollY:e.scrollTop}function Tt(e){return{x:Pr(e),y:kr(e)}}var N;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(N||(N={}));function Er(e){return!pt||!e?!1:e===document.scrollingElement}function Tr(e){const t={x:0,y:0},r=Er(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},s=e.scrollTop<=t.y,o=e.scrollLeft<=t.x,c=e.scrollTop>=n.y,i=e.scrollLeft>=n.x;return{isTop:s,isLeft:o,isBottom:c,isRight:i,maxScroll:n,minScroll:t}}const ho={x:.2,y:.2};function mo(e,t,r,n,s){let{top:o,left:c,right:i,bottom:l}=r;n===void 0&&(n=10),s===void 0&&(s=ho);const{isTop:f,isBottom:u,isLeft:g,isRight:p}=Tr(e),h={x:0,y:0},y={x:0,y:0},x={height:t.height*s.y,width:t.width*s.x};return!f&&o<=t.top+x.height?(h.y=N.Backward,y.y=n*Math.abs((t.top+x.height-o)/x.height)):!u&&l>=t.bottom-x.height&&(h.y=N.Forward,y.y=n*Math.abs((t.bottom-x.height-l)/x.height)),!p&&i>=t.right-x.width?(h.x=N.Forward,y.x=n*Math.abs((t.right-x.width-i)/x.width)):!g&&c<=t.left+x.width&&(h.x=N.Backward,y.x=n*Math.abs((t.left+x.width-c)/x.width)),{direction:h,speed:y}}function xo(e){if(e===document.scrollingElement){const{innerWidth:o,innerHeight:c}=window;return{top:0,left:0,right:o,bottom:c,width:o,height:c}}const{top:t,left:r,right:n,bottom:s}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:s,width:e.clientWidth,height:e.clientHeight}}function Fr(e){return e.reduce((t,r)=>Ee(t,Tt(r)),Q)}function bo(e){return e.reduce((t,r)=>t+Pr(r),0)}function yo(e){return e.reduce((t,r)=>t+kr(r),0)}function wo(e,t){if(t===void 0&&(t=Be),!e)return;const{top:r,left:n,bottom:s,right:o}=t(e);Rr(e)&&(s<=0||o<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const So=[["x",["left","right"],bo],["y",["top","bottom"],yo]];class Nt{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=ht(r),s=Fr(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[o,c,i]of So)for(const l of c)Object.defineProperty(this,l,{get:()=>{const f=i(n),u=s[o]-f;return this.rect[l]+u},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class He{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var s;(s=this.target)==null||s.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function Co(e){const{EventTarget:t}=U(e);return e instanceof t?e:ze(e)}function Rt(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var V;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(V||(V={}));function sr(e){e.preventDefault()}function jo(e){e.stopPropagation()}var R;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(R||(R={}));const zr={start:[R.Space,R.Enter],cancel:[R.Esc],end:[R.Space,R.Enter,R.Tab]},Do=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case R.Right:return{...r,x:r.x+25};case R.Left:return{...r,x:r.x-25};case R.Down:return{...r,y:r.y+25};case R.Up:return{...r,y:r.y-25}}};class Lt{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new He(ze(r)),this.windowListeners=new He(U(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(V.Resize,this.handleCancel),this.windowListeners.add(V.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(V.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&wo(n),r(Q)}handleKeyDown(t){if(Ot(t)){const{active:r,context:n,options:s}=this.props,{keyboardCodes:o=zr,coordinateGetter:c=Do,scrollBehavior:i="smooth"}=s,{code:l}=t;if(o.end.includes(l)){this.handleEnd(t);return}if(o.cancel.includes(l)){this.handleCancel(t);return}const{collisionRect:f}=n.current,u=f?{x:f.left,y:f.top}:Q;this.referenceCoordinates||(this.referenceCoordinates=u);const g=c(t,{active:r,context:n.current,currentCoordinates:u});if(g){const p=Xe(g,u),h={x:0,y:0},{scrollableAncestors:y}=n.current;for(const x of y){const v=t.code,{isTop:m,isRight:b,isLeft:w,isBottom:C,maxScroll:P,minScroll:k}=Tr(x),j=xo(x),S={x:Math.min(v===R.Right?j.right-j.width/2:j.right,Math.max(v===R.Right?j.left:j.left+j.width/2,g.x)),y:Math.min(v===R.Down?j.bottom-j.height/2:j.bottom,Math.max(v===R.Down?j.top:j.top+j.height/2,g.y))},A=v===R.Right&&!b||v===R.Left&&!w,I=v===R.Down&&!C||v===R.Up&&!m;if(A&&S.x!==g.x){const z=x.scrollLeft+p.x,T=v===R.Right&&z<=P.x||v===R.Left&&z>=k.x;if(T&&!p.y){x.scrollTo({left:z,behavior:i});return}T?h.x=x.scrollLeft-z:h.x=v===R.Right?x.scrollLeft-P.x:x.scrollLeft-k.x,h.x&&x.scrollBy({left:-h.x,behavior:i});break}else if(I&&S.y!==g.y){const z=x.scrollTop+p.y,T=v===R.Down&&z<=P.y||v===R.Up&&z>=k.y;if(T&&!p.x){x.scrollTo({top:z,behavior:i});return}T?h.y=x.scrollTop-z:h.y=v===R.Down?x.scrollTop-P.y:x.scrollTop-k.y,h.y&&x.scrollBy({top:-h.y,behavior:i});break}}this.handleMove(t,Ee(Xe(g,this.referenceCoordinates),h))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Lt.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=zr,onActivation:s}=t,{active:o}=r;const{code:c}=e.nativeEvent;if(n.start.includes(c)){const i=o.activatorNode.current;return i&&e.target!==i?!1:(e.preventDefault(),s==null||s({event:e.nativeEvent}),!0)}return!1}}];function ir(e){return!!(e&&"distance"in e)}function lr(e){return!!(e&&"delay"in e)}class $t{constructor(t,r,n){var s;n===void 0&&(n=Co(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:o}=t,{target:c}=o;this.props=t,this.events=r,this.document=ze(c),this.documentListeners=new He(this.document),this.listeners=new He(n),this.windowListeners=new He(U(c)),this.initialCoordinates=(s=Et(o))!=null?s:Q,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(V.Resize,this.handleCancel),this.windowListeners.add(V.DragStart,sr),this.windowListeners.add(V.VisibilityChange,this.handleCancel),this.windowListeners.add(V.ContextMenu,sr),this.documentListeners.add(V.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(lr(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(ir(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:s}=this.props;s(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(V.Click,jo,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(V.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:s,props:o}=this,{onMove:c,options:{activationConstraint:i}}=o;if(!s)return;const l=(r=Et(t))!=null?r:Q,f=Xe(s,l);if(!n&&i){if(ir(i)){if(i.tolerance!=null&&Rt(f,i.tolerance))return this.handleCancel();if(Rt(f,i.distance))return this.handleStart()}if(lr(i)&&Rt(f,i.tolerance))return this.handleCancel();this.handlePending(i,f);return}t.cancelable&&t.preventDefault(),c(l)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===R.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const Ro={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class _t extends $t{constructor(t){const{event:r}=t,n=ze(r.target);super(t,Ro,n)}}_t.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const Po={move:{name:"mousemove"},end:{name:"mouseup"}};var Ft;(function(e){e[e.RightClick=2]="RightClick"})(Ft||(Ft={}));class ko extends $t{constructor(t){super(t,Po,ze(t.event.target))}}ko.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===Ft.RightClick?!1:(n==null||n({event:r}),!0)}}];const Pt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Eo extends $t{constructor(t){super(t,Pt)}static setup(){return window.addEventListener(Pt.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Pt.move.name,t)};function t(){}}}Eo.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:s}=r;return s.length>1?!1:(n==null||n({event:r}),!0)}}];var Ue;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Ue||(Ue={}));var ft;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(ft||(ft={}));function To(e){let{acceleration:t,activator:r=Ue.Pointer,canScroll:n,draggingRect:s,enabled:o,interval:c=5,order:i=ft.TreeOrder,pointerCoordinates:l,scrollableAncestors:f,scrollableAncestorRects:u,delta:g,threshold:p}=e;const h=zo({delta:g,disabled:!o}),[y,x]=$n(),v=d.useRef({x:0,y:0}),m=d.useRef({x:0,y:0}),b=d.useMemo(()=>{switch(r){case Ue.Pointer:return l?{top:l.y,bottom:l.y,left:l.x,right:l.x}:null;case Ue.DraggableRect:return s}},[r,s,l]),w=d.useRef(null),C=d.useCallback(()=>{const k=w.current;if(!k)return;const j=v.current.x*m.current.x,S=v.current.y*m.current.y;k.scrollBy(j,S)},[]),P=d.useMemo(()=>i===ft.TreeOrder?[...f].reverse():f,[i,f]);d.useEffect(()=>{if(!o||!f.length||!b){x();return}for(const k of P){if((n==null?void 0:n(k))===!1)continue;const j=f.indexOf(k),S=u[j];if(!S)continue;const{direction:A,speed:I}=mo(k,S,b,t,p);for(const z of["x","y"])h[z][A[z]]||(I[z]=0,A[z]=0);if(I.x>0||I.y>0){x(),w.current=k,y(C,c),v.current=I,m.current=A;return}}v.current={x:0,y:0},m.current={x:0,y:0},x()},[t,C,n,x,o,c,JSON.stringify(b),JSON.stringify(h),y,f,P,u,JSON.stringify(p)])}const Fo={x:{[N.Backward]:!1,[N.Forward]:!1},y:{[N.Backward]:!1,[N.Forward]:!1}};function zo(e){let{delta:t,disabled:r}=e;const n=kt(t);return Qe(s=>{if(r||!n||!s)return Fo;const o={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[N.Backward]:s.x[N.Backward]||o.x===-1,[N.Forward]:s.x[N.Forward]||o.x===1},y:{[N.Backward]:s.y[N.Backward]||o.y===-1,[N.Forward]:s.y[N.Forward]||o.y===1}}},[r,t,n])}function Bo(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Qe(s=>{var o;return t==null?null:(o=n??s)!=null?o:null},[n,t])}function Ao(e,t){return d.useMemo(()=>e.reduce((r,n)=>{const{sensor:s}=n,o=s.activators.map(c=>({eventName:c.eventName,handler:t(c.handler,n)}));return[...r,...o]},[]),[e,t])}var Je;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Je||(Je={}));var zt;(function(e){e.Optimized="optimized"})(zt||(zt={}));const cr=new Map;function Io(e,t){let{dragging:r,dependencies:n,config:s}=t;const[o,c]=d.useState(null),{frequency:i,measure:l,strategy:f}=s,u=d.useRef(e),g=v(),p=qe(g),h=d.useCallback(function(m){m===void 0&&(m=[]),!p.current&&c(b=>b===null?m:b.concat(m.filter(w=>!b.includes(w))))},[p]),y=d.useRef(null),x=Qe(m=>{if(g&&!r)return cr;if(!m||m===cr||u.current!==e||o!=null){const b=new Map;for(let w of e){if(!w)continue;if(o&&o.length>0&&!o.includes(w.id)&&w.rect.current){b.set(w.id,w.rect.current);continue}const C=w.node.current,P=C?new Nt(l(C),C):null;w.rect.current=P,P&&b.set(w.id,P)}return b}return m},[e,o,r,g,l]);return d.useEffect(()=>{u.current=e},[e]),d.useEffect(()=>{g||h()},[r,g]),d.useEffect(()=>{o&&o.length>0&&c(null)},[JSON.stringify(o)]),d.useEffect(()=>{g||typeof i!="number"||y.current!==null||(y.current=setTimeout(()=>{h(),y.current=null},i))},[i,g,h,...n]),{droppableRects:x,measureDroppableContainers:h,measuringScheduled:o!=null};function v(){switch(f){case Je.Always:return!1;case Je.BeforeDragging:return r;default:return!r}}}function Br(e,t){return Qe(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function Mo(e,t){return Br(e,t)}function Wo(e){let{callback:t,disabled:r}=e;const n=Wt(t),s=d.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(n)},[n,r]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function mt(e){let{callback:t,disabled:r}=e;const n=Wt(t),s=d.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(n)},[r]);return d.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function Oo(e){return new Nt(Be(e),e)}function dr(e,t,r){t===void 0&&(t=Oo);const[n,s]=d.useState(null);function o(){s(l=>{if(!e)return null;if(e.isConnected===!1){var f;return(f=l??r)!=null?f:null}const u=t(e);return JSON.stringify(l)===JSON.stringify(u)?l:u})}const c=Wo({callback(l){if(e)for(const f of l){const{type:u,target:g}=f;if(u==="childList"&&g instanceof HTMLElement&&g.contains(e)){o();break}}}}),i=mt({callback:o});return ne(()=>{o(),e?(i==null||i.observe(e),c==null||c.observe(document.body,{childList:!0,subtree:!0})):(i==null||i.disconnect(),c==null||c.disconnect())},[e]),n}function No(e){const t=Br(e);return Dr(e,t)}const ur=[];function Lo(e){const t=d.useRef(e),r=Qe(n=>e?n&&n!==ur&&e&&t.current&&e.parentNode===t.current.parentNode?n:ht(e):ur,[e]);return d.useEffect(()=>{t.current=e},[e]),r}function $o(e){const[t,r]=d.useState(null),n=d.useRef(e),s=d.useCallback(o=>{const c=Dt(o.target);c&&r(i=>i?(i.set(c,Tt(c)),new Map(i)):null)},[]);return d.useEffect(()=>{const o=n.current;if(e!==o){c(o);const i=e.map(l=>{const f=Dt(l);return f?(f.addEventListener("scroll",s,{passive:!0}),[f,Tt(f)]):null}).filter(l=>l!=null);r(i.length?new Map(i):null),n.current=e}return()=>{c(e),c(o)};function c(i){i.forEach(l=>{const f=Dt(l);f==null||f.removeEventListener("scroll",s)})}},[s,e]),d.useMemo(()=>e.length?t?Array.from(t.values()).reduce((o,c)=>Ee(o,c),Q):Fr(e):Q,[e,t])}function gr(e,t){t===void 0&&(t=[]);const r=d.useRef(null);return d.useEffect(()=>{r.current=null},t),d.useEffect(()=>{const n=e!==Q;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Xe(e,r.current):Q}function _o(e){d.useEffect(()=>{if(!pt)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function Ho(e,t){return d.useMemo(()=>e.reduce((r,n)=>{let{eventName:s,handler:o}=n;return r[s]=c=>{o(c,t)},r},{}),[e,t])}function Ar(e){return d.useMemo(()=>e?fo(e):null,[e])}const fr=[];function Uo(e,t){t===void 0&&(t=Be);const[r]=e,n=Ar(r?U(r):null),[s,o]=d.useState(fr);function c(){o(()=>e.length?e.map(l=>Er(l)?n:new Nt(t(l),l)):fr)}const i=mt({callback:c});return ne(()=>{i==null||i.disconnect(),c(),e.forEach(l=>i==null?void 0:i.observe(l))},[e]),s}function Yo(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Ke(t)?t:e}function qo(e){let{measure:t}=e;const[r,n]=d.useState(null),s=d.useCallback(f=>{for(const{target:u}of f)if(Ke(u)){n(g=>{const p=t(u);return g?{...g,width:p.width,height:p.height}:p});break}},[t]),o=mt({callback:s}),c=d.useCallback(f=>{const u=Yo(f);o==null||o.disconnect(),u&&(o==null||o.observe(u)),n(u?t(u):null)},[t,o]),[i,l]=ut(c);return d.useMemo(()=>({nodeRef:i,rect:r,setRef:l}),[r,i,l])}const Xo=[{sensor:_t,options:{}},{sensor:Lt,options:{}}],Go={current:{}},ct={draggable:{measure:ar},droppable:{measure:ar,strategy:Je.WhileDragging,frequency:zt.Optimized},dragOverlay:{measure:Be}};class Ye extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const Jo={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ye,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:gt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ct,measureDroppableContainers:gt,windowRect:null,measuringScheduled:!1},Vo={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:gt,draggableNodes:new Map,over:null,measureDroppableContainers:gt},xt=d.createContext(Vo),Ir=d.createContext(Jo);function Ko(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ye}}}function Qo(e,t){switch(t.type){case M.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case M.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case M.DragEnd:case M.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case M.RegisterDroppable:{const{element:r}=t,{id:n}=r,s=new Ye(e.droppable.containers);return s.set(n,r),{...e,droppable:{...e.droppable,containers:s}}}case M.SetDroppableDisabled:{const{id:r,key:n,disabled:s}=t,o=e.droppable.containers.get(r);if(!o||n!==o.key)return e;const c=new Ye(e.droppable.containers);return c.set(r,{...o,disabled:s}),{...e,droppable:{...e.droppable,containers:c}}}case M.UnregisterDroppable:{const{id:r,key:n}=t,s=e.droppable.containers.get(r);if(!s||n!==s.key)return e;const o=new Ye(e.droppable.containers);return o.delete(r),{...e,droppable:{...e.droppable,containers:o}}}default:return e}}function Zo(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:s}=d.useContext(xt),o=kt(n),c=kt(r==null?void 0:r.id);return d.useEffect(()=>{if(!t&&!n&&o&&c!=null){if(!Ot(o)||document.activeElement===o.target)return;const i=s.get(c);if(!i)return;const{activatorNode:l,node:f}=i;if(!l.current&&!f.current)return;requestAnimationFrame(()=>{for(const u of[l.current,f.current]){if(!u)continue;const g=Un(u);if(g){g.focus();break}}})}},[n,t,s,c,o]),null}function ea(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((s,o)=>o({transform:s,...n}),r):r}function ta(e){return d.useMemo(()=>({draggable:{...ct.draggable,...e==null?void 0:e.draggable},droppable:{...ct.droppable,...e==null?void 0:e.droppable},dragOverlay:{...ct.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function ra(e){let{activeNode:t,measure:r,initialRect:n,config:s=!0}=e;const o=d.useRef(!1),{x:c,y:i}=typeof s=="boolean"?{x:s,y:s}:s;ne(()=>{if(!c&&!i||!t){o.current=!1;return}if(o.current||!n)return;const f=t==null?void 0:t.node.current;if(!f||f.isConnected===!1)return;const u=r(f),g=Dr(u,n);if(c||(g.x=0),i||(g.y=0),o.current=!0,Math.abs(g.x)>0||Math.abs(g.y)>0){const p=Rr(f);p&&p.scrollBy({top:g.y,left:g.x})}},[t,c,i,n,r])}const Mr=d.createContext({...Q,scaleX:1,scaleY:1});var me;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(me||(me={}));const na=d.memo(function(t){var r,n,s,o;let{id:c,accessibility:i,autoScroll:l=!0,children:f,sensors:u=Xo,collisionDetection:g=ao,measuring:p,modifiers:h,...y}=t;const x=d.useReducer(Qo,void 0,Ko),[v,m]=x,[b,w]=Vn(),[C,P]=d.useState(me.Uninitialized),k=C===me.Initialized,{draggable:{active:j,nodes:S,translate:A},droppable:{containers:I}}=v,z=j!=null?S.get(j):null,T=d.useRef({initial:null,translated:null}),D=d.useMemo(()=>{var $;return j!=null?{id:j,data:($=z==null?void 0:z.data)!=null?$:Go,rect:T}:null},[j,z]),E=d.useRef(null),[B,W]=d.useState(null),[O,Se]=d.useState(null),oe=qe(y,Object.values(y)),Ae=Ze("DndDescribedBy",c),et=d.useMemo(()=>I.getEnabled(),[I]),_=ta(p),{droppableRects:ae,measureDroppableContainers:we,measuringScheduled:Ie}=Io(et,{dragging:k,dependencies:[A.x,A.y],config:_.droppable}),G=Bo(S,j),tt=d.useMemo(()=>O?Et(O):null,[O]),ue=Jr(),se=Mo(G,_.draggable.measure);ra({activeNode:j!=null?S.get(j):null,config:ue.layoutShiftCompensation,initialRect:se,measure:_.draggable.measure});const F=dr(G,_.draggable.measure,se),Me=dr(G?G.parentElement:null),Z=d.useRef({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:ae,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:I,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ce=I.getNodeFor((r=Z.current.over)==null?void 0:r.id),ie=qo({measure:_.dragOverlay.measure}),je=(n=ie.nodeRef.current)!=null?n:G,De=k?(s=ie.rect)!=null?s:F:null,Ut=!!(ie.nodeRef.current&&ie.rect),Yt=No(Ut?null:F),bt=Ar(je?U(je):null),ge=Lo(k?Ce??G:null),rt=Uo(ge),nt=ea(h,{transform:{x:A.x-Yt.x,y:A.y-Yt.y,scaleX:1,scaleY:1},activatorEvent:O,active:D,activeNodeRect:F,containerNodeRect:Me,draggingNodeRect:De,over:Z.current.over,overlayNodeRect:ie.rect,scrollableAncestors:ge,scrollableAncestorRects:rt,windowRect:bt}),qt=tt?Ee(tt,A):null,Xt=$o(ge),_r=gr(Xt),Hr=gr(Xt,[F]),Re=Ee(nt,_r),Pe=De?lo(De,nt):null,We=D&&Pe?g({active:D,collisionRect:Pe,droppableRects:ae,droppableContainers:et,pointerCoordinates:qt}):null,Gt=jr(We,"id"),[fe,Jt]=d.useState(null),Ur=Ut?nt:Ee(nt,Hr),Yr=so(Ur,(o=fe==null?void 0:fe.rect)!=null?o:null,F),yt=d.useRef(null),Vt=d.useCallback(($,Y)=>{let{sensor:q,options:ve}=Y;if(E.current==null)return;const J=S.get(E.current);if(!J)return;const X=$.nativeEvent,ee=new q({active:E.current,activeNode:J,event:X,options:ve,context:Z,onAbort(L){if(!S.get(L))return;const{onDragAbort:te}=oe.current,le={id:L};te==null||te(le),b({type:"onDragAbort",event:le})},onPending(L,pe,te,le){if(!S.get(L))return;const{onDragPending:Ne}=oe.current,he={id:L,constraint:pe,initialCoordinates:te,offset:le};Ne==null||Ne(he),b({type:"onDragPending",event:he})},onStart(L){const pe=E.current;if(pe==null)return;const te=S.get(pe);if(!te)return;const{onDragStart:le}=oe.current,Oe={activatorEvent:X,active:{id:pe,data:te.data,rect:T}};_e.unstable_batchedUpdates(()=>{le==null||le(Oe),P(me.Initializing),m({type:M.DragStart,initialCoordinates:L,active:pe}),b({type:"onDragStart",event:Oe}),W(yt.current),Se(X)})},onMove(L){m({type:M.DragMove,coordinates:L})},onEnd:ke(M.DragEnd),onCancel:ke(M.DragCancel)});yt.current=ee;function ke(L){return async function(){const{active:te,collisions:le,over:Oe,scrollAdjustedTranslate:Ne}=Z.current;let he=null;if(te&&Ne){const{cancelDrop:Le}=oe.current;he={activatorEvent:X,active:te,collisions:le,delta:Ne,over:Oe},L===M.DragEnd&&typeof Le=="function"&&await Promise.resolve(Le(he))&&(L=M.DragCancel)}E.current=null,_e.unstable_batchedUpdates(()=>{m({type:L}),P(me.Uninitialized),Jt(null),W(null),Se(null),yt.current=null;const Le=L===M.DragEnd?"onDragEnd":"onDragCancel";if(he){const wt=oe.current[Le];wt==null||wt(he),b({type:Le,event:he})}})}}},[S]),qr=d.useCallback(($,Y)=>(q,ve)=>{const J=q.nativeEvent,X=S.get(ve);if(E.current!==null||!X||J.dndKit||J.defaultPrevented)return;const ee={active:X};$(q,Y.options,ee)===!0&&(J.dndKit={capturedBy:Y.sensor},E.current=ve,Vt(q,Y))},[S,Vt]),Kt=Ao(u,qr);_o(u),ne(()=>{F&&C===me.Initializing&&P(me.Initialized)},[F,C]),d.useEffect(()=>{const{onDragMove:$}=oe.current,{active:Y,activatorEvent:q,collisions:ve,over:J}=Z.current;if(!Y||!q)return;const X={active:Y,activatorEvent:q,collisions:ve,delta:{x:Re.x,y:Re.y},over:J};_e.unstable_batchedUpdates(()=>{$==null||$(X),b({type:"onDragMove",event:X})})},[Re.x,Re.y]),d.useEffect(()=>{const{active:$,activatorEvent:Y,collisions:q,droppableContainers:ve,scrollAdjustedTranslate:J}=Z.current;if(!$||E.current==null||!Y||!J)return;const{onDragOver:X}=oe.current,ee=ve.get(Gt),ke=ee&&ee.rect.current?{id:ee.id,rect:ee.rect.current,data:ee.data,disabled:ee.disabled}:null,L={active:$,activatorEvent:Y,collisions:q,delta:{x:J.x,y:J.y},over:ke};_e.unstable_batchedUpdates(()=>{Jt(ke),X==null||X(L),b({type:"onDragOver",event:L})})},[Gt]),ne(()=>{Z.current={activatorEvent:O,active:D,activeNode:G,collisionRect:Pe,collisions:We,droppableRects:ae,draggableNodes:S,draggingNode:je,draggingNodeRect:De,droppableContainers:I,over:fe,scrollableAncestors:ge,scrollAdjustedTranslate:Re},T.current={initial:De,translated:Pe}},[D,G,We,Pe,S,je,De,ae,I,fe,ge,Re]),To({...ue,delta:A,draggingRect:Pe,pointerCoordinates:qt,scrollableAncestors:ge,scrollableAncestorRects:rt});const Xr=d.useMemo(()=>({active:D,activeNode:G,activeNodeRect:F,activatorEvent:O,collisions:We,containerNodeRect:Me,dragOverlay:ie,draggableNodes:S,droppableContainers:I,droppableRects:ae,over:fe,measureDroppableContainers:we,scrollableAncestors:ge,scrollableAncestorRects:rt,measuringConfiguration:_,measuringScheduled:Ie,windowRect:bt}),[D,G,F,O,We,Me,ie,S,I,ae,fe,we,ge,rt,_,Ie,bt]),Gr=d.useMemo(()=>({activatorEvent:O,activators:Kt,active:D,activeNodeRect:F,ariaDescribedById:{draggable:Ae},dispatch:m,draggableNodes:S,over:fe,measureDroppableContainers:we}),[O,Kt,D,F,m,Ae,S,fe,we]);return H.createElement(wr.Provider,{value:w},H.createElement(xt.Provider,{value:Gr},H.createElement(Ir.Provider,{value:Xr},H.createElement(Mr.Provider,{value:Yr},f)),H.createElement(Zo,{disabled:(i==null?void 0:i.restoreFocus)===!1})),H.createElement(Zn,{...i,hiddenTextDescribedById:Ae}));function Jr(){const $=(B==null?void 0:B.autoScrollEnabled)===!1,Y=typeof l=="object"?l.enabled===!1:l===!1,q=k&&!$&&!Y;return typeof l=="object"?{...l,enabled:q}:{enabled:q}}}),oa=d.createContext(null),vr="button",aa="Draggable";function sa(e){let{id:t,data:r,disabled:n=!1,attributes:s}=e;const o=Ze(aa),{activators:c,activatorEvent:i,active:l,activeNodeRect:f,ariaDescribedById:u,draggableNodes:g,over:p}=d.useContext(xt),{role:h=vr,roleDescription:y="draggable",tabIndex:x=0}=s??{},v=(l==null?void 0:l.id)===t,m=d.useContext(v?Mr:oa),[b,w]=ut(),[C,P]=ut(),k=Ho(c,t),j=qe(r);ne(()=>(g.set(t,{id:t,key:o,node:b,activatorNode:C,data:j}),()=>{const A=g.get(t);A&&A.key===o&&g.delete(t)}),[g,t]);const S=d.useMemo(()=>({role:h,tabIndex:x,"aria-disabled":n,"aria-pressed":v&&h===vr?!0:void 0,"aria-roledescription":y,"aria-describedby":u.draggable}),[n,h,x,v,y,u.draggable]);return{active:l,activatorEvent:i,activeNodeRect:f,attributes:S,isDragging:v,listeners:n?void 0:k,node:b,over:p,setNodeRef:w,setActivatorNodeRef:P,transform:m}}function ia(){return d.useContext(Ir)}const la="Droppable",ca={timeout:25};function da(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:s}=e;const o=Ze(la),{active:c,dispatch:i,over:l,measureDroppableContainers:f}=d.useContext(xt),u=d.useRef({disabled:r}),g=d.useRef(!1),p=d.useRef(null),h=d.useRef(null),{disabled:y,updateMeasurementsFor:x,timeout:v}={...ca,...s},m=qe(x??n),b=d.useCallback(()=>{if(!g.current){g.current=!0;return}h.current!=null&&clearTimeout(h.current),h.current=setTimeout(()=>{f(Array.isArray(m.current)?m.current:[m.current]),h.current=null},v)},[v]),w=mt({callback:b,disabled:y||!c}),C=d.useCallback((S,A)=>{w&&(A&&(w.unobserve(A),g.current=!1),S&&w.observe(S))},[w]),[P,k]=ut(C),j=qe(t);return d.useEffect(()=>{!w||!P.current||(w.disconnect(),g.current=!1,w.observe(P.current))},[P,w]),d.useEffect(()=>(i({type:M.RegisterDroppable,element:{id:n,key:o,disabled:r,node:P,rect:p,data:j}}),()=>i({type:M.UnregisterDroppable,key:o,id:n})),[n]),d.useEffect(()=>{r!==u.current.disabled&&(i({type:M.SetDroppableDisabled,id:n,key:o,disabled:r}),u.current.disabled=r)},[n,o,r,i]),{active:c,rect:p,isOver:(l==null?void 0:l.id)===n,node:P,over:l,setNodeRef:k}}function Ht(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function ua(e,t){return e.reduce((r,n,s)=>{const o=t.get(n);return o&&(r[s]=o),r},Array(e.length))}function it(e){return e!==null&&e>=0}function ga(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function fa(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const Wr=e=>{let{rects:t,activeIndex:r,overIndex:n,index:s}=e;const o=Ht(t,n,r),c=t[s],i=o[s];return!i||!c?null:{x:i.left-c.left,y:i.top-c.top,scaleX:i.width/c.width,scaleY:i.height/c.height}},lt={scaleX:1,scaleY:1},va=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:s,rects:o,overIndex:c}=e;const i=(t=o[r])!=null?t:n;if(!i)return null;if(s===r){const f=o[c];return f?{x:0,y:r<c?f.top+f.height-(i.top+i.height):f.top-i.top,...lt}:null}const l=pa(o,s,r);return s>r&&s<=c?{x:0,y:-i.height-l,...lt}:s<r&&s>=c?{x:0,y:i.height+l,...lt}:{x:0,y:0,...lt}};function pa(e,t,r){const n=e[t],s=e[t-1],o=e[t+1];return n?r<t?s?n.top-(s.top+s.height):o?o.top-(n.top+n.height):0:o?o.top-(n.top+n.height):s?n.top-(s.top+s.height):0:0}const Or="Sortable",Nr=H.createContext({activeIndex:-1,containerId:Or,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Wr,disabled:{draggable:!1,droppable:!1}});function ha(e){let{children:t,id:r,items:n,strategy:s=Wr,disabled:o=!1}=e;const{active:c,dragOverlay:i,droppableRects:l,over:f,measureDroppableContainers:u}=ia(),g=Ze(Or,r),p=i.rect!==null,h=d.useMemo(()=>n.map(k=>typeof k=="object"&&"id"in k?k.id:k),[n]),y=c!=null,x=c?h.indexOf(c.id):-1,v=f?h.indexOf(f.id):-1,m=d.useRef(h),b=!ga(h,m.current),w=v!==-1&&x===-1||b,C=fa(o);ne(()=>{b&&y&&u(h)},[b,h,y,u]),d.useEffect(()=>{m.current=h},[h]);const P=d.useMemo(()=>({activeIndex:x,containerId:g,disabled:C,disableTransforms:w,items:h,overIndex:v,useDragOverlay:p,sortedRects:ua(h,l),strategy:s}),[x,g,C.draggable,C.droppable,w,h,v,l,p,s]);return H.createElement(Nr.Provider,{value:P},t)}const ma=e=>{let{id:t,items:r,activeIndex:n,overIndex:s}=e;return Ht(r,n,s).indexOf(t)},xa=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:s,items:o,newIndex:c,previousItems:i,previousContainerId:l,transition:f}=e;return!f||!n||i!==o&&s===c?!1:r?!0:c!==s&&t===l},ba={duration:200,easing:"ease"},Lr="transform",ya=Ge.Transition.toString({property:Lr,duration:0,easing:"linear"}),wa={roleDescription:"sortable"};function Sa(e){let{disabled:t,index:r,node:n,rect:s}=e;const[o,c]=d.useState(null),i=d.useRef(r);return ne(()=>{if(!t&&r!==i.current&&n.current){const l=s.current;if(l){const f=Be(n.current,{ignoreTransform:!0}),u={x:l.left-f.left,y:l.top-f.top,scaleX:l.width/f.width,scaleY:l.height/f.height};(u.x||u.y)&&c(u)}}r!==i.current&&(i.current=r)},[t,r,n,s]),d.useEffect(()=>{o&&c(null)},[o]),o}function Ca(e){let{animateLayoutChanges:t=xa,attributes:r,disabled:n,data:s,getNewIndex:o=ma,id:c,strategy:i,resizeObserverConfig:l,transition:f=ba}=e;const{items:u,containerId:g,activeIndex:p,disabled:h,disableTransforms:y,sortedRects:x,overIndex:v,useDragOverlay:m,strategy:b}=d.useContext(Nr),w=ja(n,h),C=u.indexOf(c),P=d.useMemo(()=>({sortable:{containerId:g,index:C,items:u},...s}),[g,s,C,u]),k=d.useMemo(()=>u.slice(u.indexOf(c)),[u,c]),{rect:j,node:S,isOver:A,setNodeRef:I}=da({id:c,data:P,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:k,...l}}),{active:z,activatorEvent:T,activeNodeRect:D,attributes:E,setNodeRef:B,listeners:W,isDragging:O,over:Se,setActivatorNodeRef:oe,transform:Ae}=sa({id:c,data:P,attributes:{...wa,...r},disabled:w.draggable}),et=Ln(I,B),_=!!z,ae=_&&!y&&it(p)&&it(v),we=!m&&O,Ie=we&&ae?Ae:null,tt=ae?Ie??(i??b)({rects:x,activeNodeRect:D,activeIndex:p,overIndex:v,index:C}):null,ue=it(p)&&it(v)?o({id:c,items:u,activeIndex:p,overIndex:v}):C,se=z==null?void 0:z.id,F=d.useRef({activeId:se,items:u,newIndex:ue,containerId:g}),Me=u!==F.current.items,Z=t({active:z,containerId:g,isDragging:O,isSorting:_,id:c,index:C,items:u,newIndex:F.current.newIndex,previousItems:F.current.items,previousContainerId:F.current.containerId,transition:f,wasDragging:F.current.activeId!=null}),Ce=Sa({disabled:!Z,index:C,node:S,rect:j});return d.useEffect(()=>{_&&F.current.newIndex!==ue&&(F.current.newIndex=ue),g!==F.current.containerId&&(F.current.containerId=g),u!==F.current.items&&(F.current.items=u)},[_,ue,g,u]),d.useEffect(()=>{if(se===F.current.activeId)return;if(se!=null&&F.current.activeId==null){F.current.activeId=se;return}const je=setTimeout(()=>{F.current.activeId=se},50);return()=>clearTimeout(je)},[se]),{active:z,activeIndex:p,attributes:E,data:P,rect:j,index:C,newIndex:ue,items:u,isOver:A,isSorting:_,isDragging:O,listeners:W,node:S,overIndex:v,over:Se,setNodeRef:et,setActivatorNodeRef:oe,setDroppableNodeRef:I,setDraggableNodeRef:B,transform:Ce??tt,transition:ie()};function ie(){if(Ce||Me&&F.current.newIndex===C)return ya;if(!(we&&!Ot(T)||!f)&&(_||Z))return Ge.Transition.toString({...f,property:Lr})}}function ja(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}function vt(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const Da=[R.Down,R.Right,R.Up,R.Left],Ra=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:s,droppableContainers:o,over:c,scrollableAncestors:i}}=t;if(Da.includes(e.code)){if(e.preventDefault(),!r||!n)return;const l=[];o.getEnabled().forEach(g=>{if(!g||g!=null&&g.disabled)return;const p=s.get(g.id);if(p)switch(e.code){case R.Down:n.top<p.top&&l.push(g);break;case R.Up:n.top>p.top&&l.push(g);break;case R.Left:n.left>p.left&&l.push(g);break;case R.Right:n.left<p.left&&l.push(g);break}});const f=no({collisionRect:n,droppableRects:s,droppableContainers:l});let u=jr(f,"id");if(u===(c==null?void 0:c.id)&&f.length>1&&(u=f[1].id),u!=null){const g=o.get(r.id),p=o.get(u),h=p?s.get(p.id):null,y=p==null?void 0:p.node.current;if(y&&h&&g&&p){const v=ht(y).some((k,j)=>i[j]!==k),m=$r(g,p),b=Pa(g,p),w=v||!m?{x:0,y:0}:{x:b?n.width-h.width:0,y:b?n.height-h.height:0},C={x:h.left,y:h.top};return w.x&&w.y?C:Xe(C,w)}}}};function $r(e,t){return!vt(e)||!vt(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function Pa(e,t){return!vt(e)||!vt(t)||!$r(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const ka=async(e,t)=>{const r=await re(e),n=r.getPageCount();if(t.length!==n)throw new Error(`Invalid order: expected ${n} pages, got ${t.length}`);if(new Set(t).size!==n)throw new Error("Invalid order: contains duplicate page numbers");for(const l of t)if(l<0||l>=n)throw new Error(`Invalid page number: ${l+1}`);const o=await Ve.create();(await o.copyPages(r,t)).forEach(l=>o.addPage(l));const i={title:r.getTitle(),author:r.getAuthor(),subject:r.getSubject(),creator:r.getCreator(),producer:"ePDF - Reorder Pages"};return i.title&&o.setTitle(i.title),i.author&&o.setAuthor(i.author),i.subject&&o.setSubject(i.subject),i.creator&&o.setCreator(i.creator),o.setProducer(i.producer),await ce(o)},Ea="/ePDF/assets/pdf.worker.min-yatZIOMy.mjs";nn.workerSrc=Ea;const Ta=({id:e,pageNumber:t,thumbnail:r,onPreview:n,isSelected:s})=>{const{attributes:o,listeners:c,setNodeRef:i,transform:l,transition:f,isDragging:u}=Ca({id:e}),g={transform:Ge.Transform.toString(l),transition:f,padding:"var(--space-3)",background:u?"var(--color-primary-100)":s?"var(--color-primary-50)":"var(--bg-secondary)",border:u?"2px solid var(--color-primary-500)":s?"2px solid var(--color-primary-400)":"1px solid var(--border-color)",borderRadius:"var(--radius-lg)",cursor:"grab",textAlign:"center",opacity:u?.5:1,userSelect:"none",position:"relative",overflow:"hidden"};return a.jsxs("div",{ref:i,style:g,...o,...c,onClick:p=>{p.stopPropagation(),n(t-1)},children:[r?a.jsx("div",{style:{marginBottom:"var(--space-2)"},children:a.jsx("img",{src:r,alt:`Page ${t}`,style:{width:"100%",height:"auto",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-sm)"}})}):a.jsx("div",{style:{fontSize:"var(--text-2xl)",marginBottom:"var(--space-2)"},children:"ðŸ“„"}),a.jsxs("div",{style:{fontSize:"var(--text-sm)",fontWeight:"var(--font-medium)"},children:["Page ",t]})]})},Fa=()=>{const e=de(),{success:t,error:r}=ye(),[n,s]=d.useState(null),[o,c]=d.useState(0),[i,l]=d.useState([]),[f,u]=d.useState(!1),[g,p]=d.useState({}),[h,y]=d.useState(null),[x,v]=d.useState(null),[m,b]=d.useState(null),[w,C]=d.useState(!1),P=eo(rr(_t),rr(Lt,{coordinateGetter:Ra}));d.useEffect(()=>{h&&o>0&&k()},[h,o]),d.useEffect(()=>{h&&x!==null&&j(x)},[x,h]);const k=async()=>{if(!h)return;C(!0);const T={};try{for(let D=1;D<=o;D++){const E=await h.getPage(D),B=E.getViewport({scale:.3}),W=document.createElement("canvas"),O=W.getContext("2d");W.height=B.height,W.width=B.width,await E.render({canvasContext:O,viewport:B}).promise,T[D-1]=W.toDataURL()}p(T)}catch(D){console.error("Error generating thumbnails:",D)}finally{C(!1)}},j=async T=>{if(h)try{const D=await h.getPage(T+1),E=D.getViewport({scale:1.5}),B=document.createElement("canvas"),W=B.getContext("2d");B.height=E.height,B.width=E.width,await D.render({canvasContext:W,viewport:E}).promise,b(B.toDataURL())}catch(D){console.error("Error generating preview:",D)}},S=async T=>{s(T),l([]),p({}),y(null),v(null),b(null);try{const D=await K(T),E=await At(D);c(E),l(Array.from({length:E},(O,Se)=>Se));const W=await on({data:D}).promise;y(W),v(0)}catch(D){r(`Failed to load PDF: ${D.message}`)}},A=T=>{const{active:D,over:E}=T;D.id!==E.id&&l(B=>{const W=B.indexOf(D.id),O=B.indexOf(E.id);return Ht(B,W,O)})},I=()=>{l(Array.from({length:o},(T,D)=>D))},z=async()=>{if(!n){r("Please select a PDF file first");return}const T=Array.from({length:o},(E,B)=>B);if(!!i.every((E,B)=>E===T[B])){r("Page order has not been changed");return}u(!0);try{const E=await K(n),B=await ka(E,i),W=`reordered-${n.name}`;be(B,W),await Te(B,{name:W,tool:"Reorder Pages",pageCount:o}),t("Pages reordered successfully!"),s(null),l([]),c(0)}catch(E){console.error("Reorder pages error:",E),r(`Failed to reorder pages: ${E.message}`)}finally{u(!1)}};return a.jsx("div",{style:{minHeight:"calc(100vh - 200px)",padding:"var(--space-16) var(--space-6)"},children:a.jsxs("div",{className:"container",style:{maxWidth:"1200px"},children:[a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx("button",{onClick:()=>e("/"),style:{color:"var(--color-primary-600)",fontSize:"var(--text-base)",cursor:"pointer",background:"none",border:"none",padding:0},children:"â† Back to all tools"})}),a.jsxs("div",{style:{textAlign:"center",marginBottom:"var(--space-12)"},children:[a.jsx("h1",{style:{fontSize:"var(--text-4xl)",fontWeight:"var(--font-bold)",marginBottom:"var(--space-4)",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Reorder Pages"}),a.jsx("p",{style:{fontSize:"var(--text-lg)",color:"var(--text-secondary)"},children:"Drag and drop to rearrange PDF pages"})]}),a.jsx("div",{style:{marginBottom:"var(--space-8)"},children:a.jsx(xe,{onFileSelect:S,accept:".pdf",multiple:!1,icon:"ðŸ”€"})}),n&&o>0&&a.jsxs("div",{style:{background:"var(--surface)",borderRadius:"var(--radius-xl)",padding:"var(--space-6)",marginBottom:"var(--space-8)",border:"1px solid var(--border-color)"},children:[a.jsxs("div",{style:{marginBottom:"var(--space-6)"},children:[a.jsx("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-2)"},children:n.name}),a.jsxs("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)"},children:["Total Pages: ",o]})]}),a.jsxs("div",{style:{display:"flex",gap:"var(--space-3)",marginBottom:"var(--space-6)"},children:[a.jsx("button",{onClick:I,style:{padding:"var(--space-2) var(--space-4)",background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"var(--radius-lg)",cursor:"pointer",fontSize:"var(--text-sm)"},children:"Reset Order"}),a.jsx("div",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)",display:"flex",alignItems:"center"},children:"ðŸ’¡ Tip: Click a page to preview, drag to reorder"})]}),w&&a.jsxs("div",{style:{textAlign:"center",padding:"var(--space-8)",color:"var(--text-secondary)"},children:[a.jsx("div",{style:{fontSize:"var(--text-2xl)",marginBottom:"var(--space-2)"},children:"â³"}),a.jsx("div",{children:"Loading page previews..."})]}),a.jsxs("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:"var(--space-6)",marginBottom:"var(--space-6)"},children:[a.jsxs("div",{children:[a.jsx("h4",{style:{fontSize:"var(--text-base)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-3)"},children:"Pages"}),a.jsx(na,{sensors:P,collisionDetection:ro,onDragEnd:A,children:a.jsx(ha,{items:i,strategy:va,children:a.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(120px, 1fr))",gap:"var(--space-3)"},children:i.map((T,D)=>a.jsx(Ta,{id:T,pageNumber:T+1,thumbnail:g[T],onPreview:v,isSelected:x===T},T))})})})]}),a.jsxs("div",{children:[a.jsx("h4",{style:{fontSize:"var(--text-base)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-3)"},children:"Preview"}),a.jsx("div",{style:{background:"var(--bg-secondary)",borderRadius:"var(--radius-lg)",padding:"var(--space-4)",border:"1px solid var(--border-color)",minHeight:"400px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"sticky",top:"var(--space-4)"},children:m?a.jsxs(a.Fragment,{children:[a.jsxs("div",{style:{marginBottom:"var(--space-3)",fontWeight:"var(--font-medium)",color:"var(--text-secondary)",fontSize:"var(--text-sm)"},children:["Page ",x!==null?x+1:""]}),a.jsx("img",{src:m,alt:`Preview of page ${x!==null?x+1:""}`,style:{maxWidth:"100%",height:"auto",borderRadius:"var(--radius-md)",boxShadow:"var(--shadow-lg)"}})]}):a.jsxs("div",{style:{textAlign:"center",color:"var(--text-secondary)"},children:[a.jsx("div",{style:{fontSize:"var(--text-4xl)",marginBottom:"var(--space-2)"},children:"ðŸ‘ï¸"}),a.jsx("div",{children:"Click a page to preview"})]})})]})]}),a.jsx("div",{style:{textAlign:"center"},children:a.jsx("button",{onClick:z,disabled:f,style:{background:f?"var(--color-gray-400)":"var(--gradient-primary)",color:"white",padding:"var(--space-4) var(--space-12)",borderRadius:"var(--radius-xl)",fontSize:"var(--text-lg)",fontWeight:"var(--font-bold)",cursor:f?"not-allowed":"pointer",boxShadow:"var(--shadow-lg)",border:"none"},children:f?"Reordering Pages...":"Apply Reorder"})})]})]})})},za={"merge-pdf":Sn,"split-pdf":Dn,"rotate-pdf":kn,"compress-pdf":Fn,"jpg-to-pdf":In,"remove-pages":Wn,"extract-pages":Nn,"reorder-pages":Fa},Ba=()=>{const{toolName:e}=Qr(),t=za[e];return t?a.jsx(t,{}):a.jsx(Zr,{to:"/",replace:!0})},Aa=()=>a.jsx("div",{style:{minHeight:"calc(100vh - 200px)",padding:"var(--space-16) var(--space-6)"},children:a.jsxs("div",{className:"container",children:[a.jsx("h1",{style:{fontSize:"var(--text-4xl)",fontWeight:"var(--font-bold)",marginBottom:"var(--space-4)",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"History"}),a.jsx("p",{style:{fontSize:"var(--text-lg)",color:"var(--text-secondary)",marginBottom:"var(--space-12)"},children:"View and manage your processed PDF files"}),a.jsxs("div",{style:{background:"var(--surface)",padding:"var(--space-16)",borderRadius:"var(--radius-2xl)",textAlign:"center",border:"1px solid var(--border-color)"},children:[a.jsx("div",{style:{fontSize:"4rem",marginBottom:"var(--space-4)"},children:"ðŸ“‹"}),a.jsx("h3",{style:{fontSize:"var(--text-2xl)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-3)"},children:"No files yet"}),a.jsx("p",{style:{color:"var(--text-secondary)"},children:"Your processed files will appear here"})]})]})}),Ia=()=>{const{theme:e,toggleTheme:t}=hr();return a.jsx("div",{style:{minHeight:"calc(100vh - 200px)",padding:"var(--space-16) var(--space-6)"},children:a.jsxs("div",{className:"container",style:{maxWidth:"800px"},children:[a.jsx("h1",{style:{fontSize:"var(--text-4xl)",fontWeight:"var(--font-bold)",marginBottom:"var(--space-4)",background:"var(--gradient-primary)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Settings"}),a.jsx("p",{style:{fontSize:"var(--text-lg)",color:"var(--text-secondary)",marginBottom:"var(--space-12)"},children:"Customize your ePDF experience"}),a.jsx("div",{style:{background:"var(--surface)",padding:"var(--space-6)",borderRadius:"var(--radius-xl)",marginBottom:"var(--space-6)",border:"1px solid var(--border-color)"},children:a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs("div",{children:[a.jsx("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-2)"},children:"Theme"}),a.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"var(--text-sm)"},children:"Choose between light and dark mode"})]}),a.jsx("button",{onClick:t,style:{padding:"var(--space-3) var(--space-6)",borderRadius:"var(--radius-lg)",background:e==="dark"?"var(--gradient-primary)":"var(--bg-secondary)",color:e==="dark"?"white":"var(--text-primary)",border:"1px solid var(--border-color)",fontSize:"var(--text-base)",fontWeight:"var(--font-medium)",cursor:"pointer",transition:"all var(--transition-fast)",minWidth:"120px"},children:e==="light"?"â˜€ï¸ Light":"ðŸŒ™ Dark"})]})}),a.jsxs("div",{style:{background:"var(--surface)",padding:"var(--space-6)",borderRadius:"var(--radius-xl)",marginBottom:"var(--space-6)",border:"1px solid var(--border-color)"},children:[a.jsx("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-4)"},children:"Storage"}),a.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--space-3)"},children:[a.jsx("span",{style:{color:"var(--text-secondary)"},children:"Used Storage:"}),a.jsx("span",{style:{fontWeight:"var(--font-semibold)"},children:"0 MB / 1 GB"})]}),a.jsx("div",{style:{height:"8px",background:"var(--bg-secondary)",borderRadius:"var(--radius-full)",overflow:"hidden"},children:a.jsx("div",{style:{height:"100%",width:"0%",background:"var(--gradient-primary)",borderRadius:"var(--radius-full)",transition:"width var(--transition-slow)"}})})]}),a.jsxs("div",{style:{background:"var(--surface)",padding:"var(--space-6)",borderRadius:"var(--radius-xl)",border:"1px solid var(--border-color)"},children:[a.jsx("h3",{style:{fontSize:"var(--text-lg)",fontWeight:"var(--font-semibold)",marginBottom:"var(--space-4)"},children:"About ePDF"}),a.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:"var(--space-4)"},children:"Version 1.0.0"}),a.jsx("p",{style:{color:"var(--text-secondary)",lineHeight:"var(--leading-relaxed)"},children:"ePDF is a modern, browser-based PDF toolkit that prioritizes your privacy. All operations are performed client-side, ensuring your files never leave your device."})]})]})})};function Ma(){return a.jsx(dn,{children:a.jsx(bn,{children:a.jsx(en,{children:a.jsxs("div",{className:"app-wrapper",children:[a.jsx(un,{}),a.jsx("main",{className:"main-content",children:a.jsxs(tn,{children:[a.jsx(at,{path:"/",element:a.jsx(vn,{})}),a.jsx(at,{path:"/tool/:toolName",element:a.jsx(Ba,{})}),a.jsx(at,{path:"/history",element:a.jsx(Aa,{})}),a.jsx(at,{path:"/settings",element:a.jsx(Ia,{})})]})}),a.jsx(gn,{})]})})})})}cn.createRoot(document.getElementById("root")).render(a.jsx(d.StrictMode,{children:a.jsx(Ma,{})}));
